<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงููุญุงุถุฑุฉ ุงูุซุงูุซุฉ - ุงูุฎูุงุตุฉ ูู ุงูุจุญุซ ุงูุนููู</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        navy: '#16213e',
                        gold: '#e2b96f',
                        cream: '#faf8f3',
                        trait1: '#f0fdf4',
                        trait2: '#eff6ff',
                        trait3: '#fdf2f8',
                        trait4: '#fffbeb',
                        trait5: '#f5f3ff',
                    },
                    fontFamily: {
                        amiri: ['Amiri', 'serif'],
                        tajawal: ['Tajawal', 'sans-serif'],
                    },
                    boxShadow: {
                        'glow': '0 0 20px rgba(226, 185, 111, 0.5)',
                        'glow-navy': '0 0 25px rgba(22, 33, 62, 0.4)',
                        'glass': '0 8px 32px 0 rgba(31, 38, 135, 0.1)',
                    }
                }
            }
        }
    </script>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #faf8f3; color: #16213e; scroll-behavior: smooth; overflow-x: hidden; }
        h1, h2, h3, h4, .font-amiri { font-family: 'Amiri', serif; }
        
        /* Premium Glassmorphism */
        .glass-panel { 
            background: rgba(255, 255, 255, 0.7); 
            backdrop-filter: blur(16px); 
            -webkit-backdrop-filter: blur(16px); 
            border: 1px solid rgba(255, 255, 255, 0.5); 
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
        }

        /* Content Highlights */
        .hl-red { color: #dc2626; font-weight: 800; }
        .hl-blue { color: #2563eb; font-weight: 800; }
        .hl-emerald { color: #059669; font-weight: 800; }
        .hl-gold { color: #b48600; font-weight: 800; }
        .hl-mark { background-color: #fef08a; padding: 2px 6px; border-radius: 6px; font-weight: 800; color: #16213e; border-bottom: 2px solid #e2b96f; }

        /* Poetry Verse */
        .verse {
            background: linear-gradient(90deg, transparent, rgba(226, 185, 111, 0.15) 50%, transparent);
            border-right: 4px solid #e2b96f; border-left: 4px solid #e2b96f;
            padding: 1.5rem; margin: 2rem auto; border-radius: 1rem;
            font-family: 'Amiri', serif; font-size: 1.5rem; line-height: 2.2; text-align: center;
            max-width: 85%; font-weight: bold; color: #16213e;
            box-shadow: inset 0 0 20px rgba(255,255,255,0.5);
        }

        /* Animations */
        .fade-in { animation: fadeIn 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .pulse-btn { animation: pulseBtn 2s infinite; }
        @keyframes pulseBtn { 0% { box-shadow: 0 0 0 0 rgba(226, 185, 111, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(226, 185, 111, 0); } 100% { box-shadow: 0 0 0 0 rgba(226, 185, 111, 0); } }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #faf8f3; }
        ::-webkit-scrollbar-thumb { background: #e2b96f; border-radius: 5px; border: 2px solid #faf8f3; }

        /* Flip Cards */
        .flip-card { background-color: transparent; perspective: 1000px; height: 240px; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1); transform-style: preserve-3d; cursor: pointer; }
        .flip-card:hover .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 1.5rem; display: flex; align-items: center; justify-content: center; padding: 1.5rem; box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1); }
        .flip-card-front { background: linear-gradient(135deg, #16213e, #1f2f5c); color: #e2b96f; border: 2px solid rgba(226, 185, 111, 0.5); }
        .flip-card-back { background: #faf8f3; color: #16213e; transform: rotateY(180deg); border: 2px solid #16213e; }
        
        /* Interactive Lines for Mindmap */
        .tree-line-v { position: absolute; width: 2px; background: #e2b96f; z-index: 0; }
        .tree-line-h { position: absolute; height: 2px; background: #e2b96f; z-index: 0; }
        .tree-node { position: relative; z-index: 10; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- Core Data: Course Content ---
        const courseData = [
            {
                id: 1,
                title: "ุฃููุงู: ุฃููุฑ ูุงุจุฏ ูู ูุฑุงุนุงุชูุง ูู ุงุฎุชูุงุฑ ุงูููุถูุน",
                color: "bg-trait1",
                icon: "๐ก",
                content: (
                    <div className="space-y-6">
                        <div className="bg-navy text-cream p-4 rounded-xl shadow-lg border-r-4 border-gold">
                            <h3 className="font-amiri text-xl font-bold mb-2">ุงููุณุฃูุฉ ุงูุณุงุฏุณุฉ : ุงุฎุชูุงุฑ ููุถูุน ุงูุจุญุซ - ุงููุดููุฉ -</h3>
                            <p>ูุฐูู ุฃูู ุงููุฑุงุญูุ ูุฃูููุงุ ูุงูุจุญุซ ูู ุจุฏุงูุชู ุฅูู ููุงูุชู ูุฏูุฑ ุญูู ููุถูุนู. ุจู ุฅู ุญูุงุฉ ุงูุจุงุญุซ ุงูุฃูุงุฏูููุฉ ุงูุนูููุฉ ุชุฏูุฑ ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุญูู ุจุญุซู ุงูุฐู ูุฎุชุงุฑู ูุฑุณุงูุชู ุงูุนูููุฉ.</p>
                        </div>
                        <p className="font-bold text-lg hl-blue">ููุงู ุฃููุฑ ูุง ุจุฏ ูู ูุฑุงุนุงุชูุง ุญุงู ุงุฎุชูุงุฑ ุงูููุถูุนุ ูุฃูููุง ูุง ููู:</p>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div className="glass-panel p-4 rounded-2xl border-t-4 border-gold hover:-translate-y-1 transition duration-300">
                                <span className="text-2xl mb-2 block">๐</span>
                                <h4 className="font-bold text-navy mb-1">ูก- ุงูุฌุฏุฉ ูุงูุฅุถุงูุฉ</h4>
                                <p className="text-sm text-gray-700">ูุงุจุน ูู ุฅุญุณุงุณ ุงูุจุงุญุซ ุจูุฌูุฏ ููุถูุน ุฌุฏูุฏ ุฌุฏูุฑ ุจุงูุฏุฑุงุณุฉุ ูููุชุฑู ุจูุดููุฉ ูุงุฆูุฉ ูุฑุงุฏ ุญููุง ูุชูุฏูู ุฅุถุงูุฉ ุนูููุฉ. ููุฐู ูู ุงูุจุฏุงูุฉ ุงูููุทููุฉ ููููุงู ุจุจุญุซ ุนููู ุฃุตูู.</p>
                            </div>
                            <div className="glass-panel p-4 rounded-2xl border-t-4 border-gold hover:-translate-y-1 transition duration-300">
                                <span className="text-2xl mb-2 block">๐ซ</span>
                                <h4 className="font-bold text-navy mb-1">ูข- ุชุฌูุจ ุงูุชูุฑุงุฑ</h4>
                                <p className="text-sm text-gray-700">ุญุชู ูุง ูููู ุงูุจุญุซ ูุจุชุฐูุงูุ ููููู ุงูููุช ูุงูุฌูุฏุ ูุงููุงู ุงูุฐู ูุตุฑู ููู ุถุงุฆุนุงู.</p>
                            </div>
                            <div className="glass-panel p-4 rounded-2xl border-t-4 border-gold hover:-translate-y-1 transition duration-300">
                                <span className="text-2xl mb-2 block">โจ</span>
                                <h4 className="font-bold text-navy mb-1">ูฃ- ุงูุทุฑุงูุฉ</h4>
                                <p className="text-sm text-gray-700">ุจุญูุซ ูููู ุงูุจุญุซ ูุณุชุนุฐุจุงู ูุงุฆูุงู ููุจููุงู. ููููู ุฐูู ุจุงูุบูุต ูู ุงูุจุญุซ ูุงุณุชุฎุฑุงุฌ ููุถูุน ุทุฑูู.</p>
                            </div>
                            <div className="glass-panel p-4 rounded-2xl border-t-4 border-emerald-500 hover:-translate-y-1 transition duration-300 shadow-glow">
                                <span className="text-2xl mb-2 block">โค๏ธ</span>
                                <h4 className="font-bold text-navy mb-1">ูค- ูุฑุงุนุงุฉ ุงููููู ูุงูุงุณุชุนุฏุงุฏ</h4>
                                <p className="text-sm text-gray-700">ุฃู ูููู ุงุฎุชูุงุฑู ูุงุจุนุงู ูู ุฐุงุชู ููููููุ ูุงูุฐูู ูููููู ูุฐูู ูู ุฃูุซุฑ ูุฌุงุญุงู ูุฅุจุฏุงุนุงู. <span className="hl-emerald">ูุญุณู ุงุฎุชูุงุฑ ุงูููุถูุน ูููุงุฆูุชู ููุจุงุญุซ ูู ูุญูุฑ ุงูุนูู ุงูุนููู ุงููุงุฌุญ.</span> ููุฐุง ูุญุฐุฑ ุงูุนููุงุก ูู ุงุนุชูุงุฏ ุงูุทุงูุจ ุนูู ููุชุฑุญุงุช ุงูุขุฎุฑูู ุฏูู ุฃู ุชููู ููุงุฆูุฉ ูููููู.</p>
                            </div>
                            <div className="glass-panel p-4 rounded-2xl border-t-4 border-gold hover:-translate-y-1 transition duration-300">
                                <span className="text-2xl mb-2 block">โณ</span>
                                <h4 className="font-bold text-navy mb-1">ูฅ- ูุฑุงุนุงุฉ ููุช ุงูุจุญุซ</h4>
                                <p className="text-sm text-gray-700">ุงูููุช ุงููุฎุตุต ููุจุญุซุ ูู ูุงุญูุฉ ุงูุทูู ูุงููุตุฑุ ูุญุฌู ุงูููุถูุน ูุฃู ูููู ุฑุณุงูุฉ ูุงุฌุณุชูุฑ ุฃู ุฏูุชูุฑุงู.</p>
                            </div>
                            <div className="glass-panel p-4 rounded-2xl border-t-4 border-gold hover:-translate-y-1 transition duration-300">
                                <span className="text-2xl mb-2 block">๐</span>
                                <h4 className="font-bold text-navy mb-1">ูฆ- ุชูุงูุฑ ุงููุตุงุฏุฑ ูุงููุงุฏุฉ ุงูุนูููุฉ</h4>
                                <p className="text-sm text-gray-700">ูุง ูุณูุบ ุงุฎุชูุงุฑ ููุถูุน ูุง ุชุชูุงูุฑ ูุตุงุฏุฑูุ ูุฐูู ูููุฏู ุฃูููุชู ููุฏ ูุง ูุณุชุทูุน ูุชุงุจุฉ ุดูุก ูุฐูุฑ.</p>
                            </div>
                            <div className="glass-panel p-4 rounded-2xl border-t-4 border-gold md:col-span-2 hover:-translate-y-1 transition duration-300">
                                <span className="text-2xl mb-2 block">๐</span>
                                <h4 className="font-bold text-navy mb-1">ูง- ูุฑุงุนุงุฉ ุงูุฒูุงู ูุงูููุงู</h4>
                                <p className="text-sm text-gray-700">ูุฏ ูููู ููุถูุน ูู ููุช/ุจูุฆุฉ ุฏูู ุฃุฎุฑู. ูุฅุบูุงู ุฐูู ูุฌุนู ุงูุจุงุญุซ ูููุฏ ุญุฑูุชู ูุชููู ุนููู ุงูุธุฑูู ุงููุญูุทุฉ ูุณุงุฑูุ ููุฌุงูุจ ุงูุญูููุฉ ุงูุชู ูู ุนูุงุฏ ุงูุจุญุซ ุงูุนููู.</p>
                            </div>
                        </div>
                    </div>
                ),
                mindmap: (
                    <div className="relative bg-navy rounded-3xl p-8 flex flex-col items-center justify-center min-h-[400px] overflow-hidden shadow-glow-navy">
                        <div className="absolute inset-0 opacity-10" style={{backgroundImage: 'radial-gradient(circle at 2px 2px, #e2b96f 1px, transparent 0)', backgroundSize: '30px 30px'}}></div>
                        
                        <div className="tree-node bg-gradient-to-br from-gold to-yellow-500 text-navy font-amiri font-bold text-2xl px-8 py-4 rounded-2xl shadow-glow mb-12 z-10">
                            ุฃุณุงุณูุงุช ุงุฎุชูุงุฑ ุงูููุถูุน
                        </div>
                        
                        {/* Connecting Lines */}
                        <div className="tree-line-v top-[80px] h-12 left-1/2 -translate-x-1/2"></div>
                        <div className="tree-line-h top-[128px] w-[80%] left-[10%]"></div>
                        
                        <div className="flex flex-wrap justify-center gap-4 w-full relative z-10 mt-4">
                            {['ุงูุฌุฏุฉ ูุงูุฅุถุงูุฉ', 'ุชุฌูุจ ุงูุชูุฑุงุฑ', 'ุงูุทุฑุงูุฉ', 'ุงููููู ูุงูุงุณุชุนุฏุงุฏ', 'ููุช ุงูุจุญุซ', 'ุชูุงูุฑ ุงููุตุงุฏุฑ', 'ุงูุฒูุงู ูุงูููุงู'].map((item, i) => (
                                <div key={i} className="bg-white/10 backdrop-blur-sm border border-gold/40 text-cream px-4 py-2 rounded-xl text-sm font-bold shadow-lg hover:bg-gold hover:text-navy transition cursor-default">
                                    {item}
                                </div>
                            ))}
                        </div>
                    </div>
                ),
                qType: "dropdown",
                questions: [
                    {
                        text: "ุงูุฌุฏุฉ ูุงูุฅุถุงูุฉ ุชุนูู ุงูุดุนูุฑ ุจูุฌูุฏ ูุดููุฉ ูุงุฆูุฉ ูุฑุงุฏ ุญููุง ูุชูุฏูู {{blank}}.",
                        options: ["ุชูุฎูุต ููุชุน", "ุฅุถุงูุฉ ุนูููุฉ", "ููุฏ ุฃุฏุจู", "ุณุฑุฏ ุชุงุฑูุฎู"],
                        correct: "ุฅุถุงูุฉ ุนูููุฉ"
                    },
                    {
                        text: "ููุญุฐุฑ ุงูุนููุงุก ูู ุงุนุชูุงุฏ ุงูุทุงูุจ ุนูู {{blank}} ุฏูู ุฃู ูููู ุงูููุถูุน ููุงุฆูุงู ูููููู ูุงุณุชุนุฏุงุฏู.",
                        options: ["ุงููุฑุงุฌุน ุงููุฏููุฉ", "ููุชุฑุญุงุช ุงูุขุฎุฑูู", "ุดุจูุฉ ุงูุฅูุชุฑูุช", "ุงูุฏุฑุงุณุงุช ุงูููุฏุงููุฉ"],
                        correct: "ููุชุฑุญุงุช ุงูุขุฎุฑูู"
                    },
                    {
                        text: "ุฅุบูุงู ุนุงูู ุงูุฒูุงู ูุงูููุงู ูุฌุนู ุงูุจุงุญุซ ูููุฏ ุญุฑูุชูุ ูุฑุจูุง ุตุงุฑ ุจุญุซู ุชูููู ุนููู {{blank}}.",
                        options: ["ุงูุธุฑูู ุงููุญูุทุฉ", "ุงูุฌุงูุนุฉ", "ุงูุฃููุงุก ุงูุดุฎุตูุฉ", "ุงููุตุงุฏุฑ ุงูููููุฉ"],
                        correct: "ุงูุธุฑูู ุงููุญูุทุฉ"
                    }
                ]
            },
            {
                id: 2,
                title: "ุซุงููุงู: ุฃููุฑ ูุณุชุญุณู ููุจุงุญุซ ุฃู ูุชูุงุฏุงูุง",
                color: "bg-trait8",
                icon: "โ๏ธ",
                content: (
                    <div className="space-y-6">
                        <p className="font-bold text-red-700 text-lg">ูุณุชุญุณู ููุจุงุญุซ ุชูุงุฏู ุงูุฃููุฑ ุงูุณุจุนุฉ ุงูุชุงููุฉ:</p>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div className="bg-white p-4 rounded-xl border-r-4 border-red-500 shadow-sm"><span className="hl-red block mb-1">ูก- ุงูููุถูุนุงุช ุงูุชู ูุดุชุฏ ุญูููุง ุงูุฎูุงู</span>ุฅุฐ ููุณ ุงูุจุญุซ ูุฌุฑุฏ ุนุฑุถ ุขุฑุงุก ุงููุฎุงูููู ูุงููุคูุฏููุ ุจู ุฅุถุงูุฉ ุฐุงุช ูููุฉ ุชุซุฑู ุงููุนุงุฑู.</div>
                            <div className="bg-white p-4 rounded-xl border-r-4 border-red-500 shadow-sm"><span className="hl-red block mb-1">ูข- ุงูููุถูุนุงุช ุงูุนูููุฉ ุงููุนูุฏุฉ</span>ุงูุชู ุชุญุชุงุฌ ุฅูู ุชูููุฉ ุนุงููุฉ ูุฃููุง ุตุนุจุฉ ุนูู ุงููุจุชุฏุฆ.</div>
                            <div className="bg-white p-4 rounded-xl border-r-4 border-red-500 shadow-sm"><span className="hl-red block mb-1">ูฃ- ุงูููุถูุนุงุช ุงูุฎุงููุฉ</span>ุงูุชู ูุง ุชุจุฏู ููุชุนุฉุ ูุฐูู ูุจุนุซ ุนูู ุงูููู ููุนูู ุงูุชูุฏู.</div>
                            <div className="bg-white p-4 rounded-xl border-r-4 border-red-500 shadow-sm"><span className="hl-red block mb-1">ูค- ุงูููุถูุนุงุช ุงูุชู ูุตุนุจ ุงูุนุซูุฑ ุนูู ูุงุฏุชูุง</span>ููุฏุฑุฉ ุงููุตุงุฏุฑ ูุงููุฑุงุฌุน.</div>
                            <div className="bg-white p-4 rounded-xl border-r-4 border-red-500 shadow-sm"><span className="hl-red block mb-1">ูฅ- ุงูููุถูุนุงุช ุงููุงุณุนุฉ ุฌุฏุงู</span>ุฅุฐ ูุตุนุจ ุนูู ุงูุจุงุญุซ ุงูุณูุทุฑุฉ ุนูููุง.</div>
                            <div className="bg-white p-4 rounded-xl border-r-4 border-red-500 shadow-sm"><span className="hl-red block mb-1">ูฆ- ุงูููุถูุนุงุช ุงูุถููุฉ ุฌุฏุงู</span>ุฅุฐ ููุญู ุงูุจุงุญุซ ุงููุซูุฑ ูู ุงูุนูุช ูู ูุนุงูุฌุชูุง.</div>
                            <div className="bg-white p-4 rounded-xl border-r-4 border-red-500 shadow-sm md:col-span-3 text-center"><span className="hl-red block mb-1">ูง- ุงูููุถูุนุงุช ุงูุบุงูุถุฉ</span>ุงูุชู ุชุญูุฑ ุงูุจุงุญุซุ ููุง ูุฏุฑู ูุง ูุฏุฎูู ุชุญุชูุง ูู ุนุฏูู.</div>
                        </div>
                        <div className="verse mt-8">
                            ุฎูุงู ูุชุนููุฏ ุฎููู ุตุนูุจุฉ<br/>ูุถูู ุบููุถ ูุงุฌุชูุจูุง ุฌููุนูุง
                        </div>
                    </div>
                ),
                mindmap: (
                    <div className="relative bg-[#2d1b1b] rounded-3xl p-8 flex flex-col items-center justify-center overflow-hidden">
                        <div className="tree-node bg-red-600 text-white font-amiri font-bold text-2xl px-8 py-4 rounded-2xl shadow-lg mb-8 z-10">
                            ูุญุงุฐูุฑ ุงูุงุฎุชูุงุฑ (ูุงุฌุชูุจูุง ุฌููุนูุง)
                        </div>
                        <div className="flex flex-wrap justify-center gap-3 z-10">
                            {['ุงูุฎูุงู', 'ุงูุชุนููุฏ', 'ุงูุฎููู', 'ุงูุตุนูุจุฉ (ูุฏุฑุฉ ุงููุงุฏุฉ)', 'ุงูุถูู', 'ุงูุงุชุณุงุน (ูุงุณุนุฉ ุฌุฏุงู)', 'ุงูุบููุถ'].map((item, i) => (
                                <div key={i} className="bg-red-900/50 border border-red-500 text-red-100 px-5 py-3 rounded-full font-bold">
                                    {item}
                                </div>
                            ))}
                        </div>
                    </div>
                ),
                qType: "matching",
                questions: [
                    { left: "ุงูููุถูุนุงุช ุงูุฎุงููุฉ", right: "ุชุจุนุซ ุนูู ุงูููู ูุชุนูู ุงูุชูุฏู" },
                    { left: "ููุถูุนุงุช ูุดุชุฏ ุญูููุง ุงูุฎูุงู", right: "ุงูุจุญุซ ููุณ ูุฌุฑุฏ ุนุฑุถ ุขุฑุงุก ุงููุชุฎุงูููู" },
                    { left: "ุงูููุถูุนุงุช ุงููุงุณุนุฉ ุฌุฏุงู", right: "ูุตุนุจ ุนูู ุงูุจุงุญุซ ุงูุณูุทุฑุฉ ุนูููุง" },
                    { left: "ุงูููุถูุนุงุช ุงููุนูุฏุฉ", right: "ุชุญุชุงุฌ ุชูููุฉ ุนุงููุฉ ูุตุนุจุฉ ุนูู ุงููุจุชุฏุฆ" }
                ]
            },
            {
                id: 3,
                title: "ุซุงูุซุงู: ุชุญุฏูุฏ ุงููุดููุฉ ูููุงุฑุงุช ุชูููุฏ ุงูููุถูุนุงุช",
                color: "bg-trait2",
                icon: "โ๏ธ",
                content: (
                    <div className="space-y-6">
                        <p className="text-lg">ุชุญุฏูุฏ ุงูููุถูุน ููุดููุชู ุจุฏูุฉ ูู ุฃุนุธู ุงูุนูู ุนูู ุถูุงู ุณูุฑ ุงูุจุญุซุ ุฃูุง ุฅุฐุง ูู ุชุญุฏุฏ ุงููุดููุฉ ูุฅู ุงูุจุญุซ ูุฃุชู ูุชุฎุงุฐูุงู ุบูุฑ ูุชุฑุงุจุท ุงูุฃุฌุฒุงุก.</p>
                        <div className="verse text-lg py-4">ูุฅุฐุง ูุงู ูู ุงูุฃูุงุจูุจ ุฎูู<br/>ููุน ุงูุทูุด ูู ุตุฏูุฑ ุงูุตุนุงุฏ</div>
                        
                        <h4 className="font-bold text-navy text-xl mt-6 mb-4 border-b-2 border-gold inline-block pb-1">ุฃููุฑ ุชุนูู ุนูู ุงูุงุฎุชูุงุฑ:</h4>
                        <ul className="list-disc list-inside space-y-2 text-gray-800 bg-white p-5 rounded-xl shadow-sm">
                            <li>ูุฑุงุกุฉ ูู ูุง ูู ุตูุฉ ุจุงูููุถูุน (ุฏูู ุชุดุชุช).</li>
                            <li>ุงูุฅูุงุฏุฉ ูู ุฎุจุฑุงุช ูุจุญูุซ ุงูุจุงุญุซ ุงููุงุถูุฉ.</li>
                            <li>ุงูุณูุงุน ูุงูููุงูุดุฉ ููู ููู ุฎุจุฑุฉ ูู ุงูุฃุณุงุชุฐุฉ.</li>
                            <li>ุงูุงุทูุงุน ุนูู ุงูููุงูุงุชุ ูุนููุงูุงุช ุงูุฑุณุงุฆู ูุชูุตูุงุชูุง.</li>
                            <li>ุงููุธุฑ ูู ุงูููุงูุน ุงูุฅููุชุฑูููุฉ ุงููุนููุฉ ุจุงูุจุญุซ ุงูุนููู (ููููุน ุฃ.ุฏ. ุนุจุฏ ุงููู ุขู ุณูู).</li>
                        </ul>

                        <h4 className="font-bold text-gold text-2xl mt-8 mb-4">ุงููุฏุฑุฉ ุนูู ููุงุฑุฉ ุชูููุฏ ุงูููุถูุนุงุช:</h4>
                        <div className="grid md:grid-cols-2 gap-4">
                            <div className="glass-panel p-5 rounded-xl border-t-4 border-navy">
                                <span className="font-bold text-navy block text-lg mb-2">ูก- ููุงุฑุฉ ุงูููุจ</span>
                                ูููุจ ุนููุงูุงู ูุทุฑููุงู ููููู ุฌุฏูุฏุงู. <br/><span className="text-sm text-gray-600 font-bold">ูุซุงู: ุญููู ุงูุฑุงุนู ุนูู ุงูุฑุนูุฉ โฌ๏ธ ุญููู ุงูุฑุนูุฉ ุนูู ุงูุฑุงุนู.</span>
                            </div>
                            <div className="glass-panel p-5 rounded-xl border-t-4 border-navy">
                                <span className="font-bold text-navy block text-lg mb-2">ูข- ููุงุฑุฉ ุงูุชุนููู ูุงูุชูุจูุฑ</span>
                                ุชูุจูุฑ ููุฑุฉ ุงูููุถูุน. <br/><span className="text-sm text-gray-600 font-bold">ูุซุงู: ุฃุญูุงู ุงูุทูู ูู ุงูุตูุงุฉ โฌ๏ธ ุฃุญูุงู ุงูุทูู ูู ุฃุจูุงุจ ุงูุนุจุงุฏุงุช.</span>
                            </div>
                            <div className="glass-panel p-5 rounded-xl border-t-4 border-navy">
                                <span className="font-bold text-navy block text-lg mb-2">ูฃ- ููุงุฑุฉ ุงูุชุตุบูุฑ ูุงูุชุฎุตูุต</span>
                                ุชุตุบูุฑ ูุชุฎุตูุต ุงูููุถูุน ุงููุจูุฑ. <br/><span className="text-sm text-gray-600 font-bold">ูุซุงู: ุฃุญูุงู ูุฑุงุกุฉ ุงููุฑุขู โฌ๏ธ ุฃุญูุงู ูุฑุงุกุฉ ุงููุฑุขู ูู ูุชุงุจ ุงููุบูู.</span>
                            </div>
                            <div className="glass-panel p-5 rounded-xl border-t-4 border-navy">
                                <span className="font-bold text-navy block text-lg mb-2">ูค- ููุงุฑุฉ ุงูููุงุณ</span>
                                ููุงุณ ููุถูุน ุนูู ุขุฎุฑ. <br/><span className="text-sm text-gray-600 font-bold">ูุซุงู: ุฃุญูุงู ุงูููุญุฏ ุนูุฏ ุงูุญูุงุจูุฉ โฌ๏ธ ุฃุญูุงู ุงูููุญุฏ ุนูุฏ ุงููุงูููุฉ.</span>
                            </div>
                            <div className="glass-panel p-5 rounded-xl border-t-4 border-navy md:col-span-2 text-center">
                                <span className="font-bold text-navy block text-lg mb-2">ูฅ- ููุงุฑุฉ ุงุณุชุฎุฑุงุฌ ุงููุณูู</span>
                                <span className="text-sm text-gray-600 font-bold">ูุซุงู: ุฃุญูุงู ุงูุฑุฌู ููุณุชุฎุฑุฌ ููู ุฃุญูุงู ุงููุฑุฃุฉ.</span>
                            </div>
                        </div>
                        <div className="bg-navy text-gold p-4 rounded-xl text-center font-bold text-lg shadow-glow-navy mt-6">
                            "ุงูููุถูุน ุงูุฌูุฏ ูู ุงูุฐู ููุฏ ุงูุจุงุญุซ ุจุงููุซูุฑ ูู ุงูุฃููุงุฑุ ููุซูุฑ ุชุณุงุคูุงุช ุฃูุซุฑ ููุง ููุฏู ูู ุฅุฌุงุจุงุช."
                        </div>
                    </div>
                ),
                mindmap: (
                    <div className="relative bg-navy rounded-3xl p-8 flex flex-col items-center justify-center overflow-hidden shadow-inner">
                        <div className="tree-node text-gold font-amiri font-bold text-3xl mb-10 border-b-2 border-dashed border-gold pb-2 z-10">
                            ุฎุฑูุทุฉ: ููุงุฑุงุช ุงูุชูููุฏ
                        </div>
                        <div className="flex flex-col md:flex-row gap-6 z-10 w-full justify-center">
                            {[
                                {n: 'ูก', t: 'ุงูููุจ', d: 'ุนูุณ ุงูููุถูุน'},
                                {n: 'ูข', t: 'ุงูุชูุจูุฑ', d: 'ุชุนููู ุงูููุฑุฉ'},
                                {n: 'ูฃ', t: 'ุงูุชุตุบูุฑ', d: 'ุชุฎุตูุต ุงูููุฑุฉ'},
                                {n: 'ูค', t: 'ุงูููุงุณ', d: 'ุชุทุจูู ุนูู ูุฐูุจ ุขุฎุฑ'},
                                {n: 'ูฅ', t: 'ุงุณุชุฎุฑุงุฌ ุงููุณูู', d: 'ุงูุฑุฌู โฌ๏ธ ุงููุฑุฃุฉ'}
                            ].map((s, i) => (
                                <div key={i} className="bg-white/5 border border-gold rounded-xl p-4 text-center flex-1 hover:bg-gold hover:text-navy transition group cursor-default">
                                    <div className="w-10 h-10 bg-gold text-navy rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-xl group-hover:bg-white">{s.n}</div>
                                    <div className="font-bold text-cream group-hover:text-navy mb-1">{s.t}</div>
                                    <div className="text-xs text-gray-400 group-hover:text-gray-800">{s.d}</div>
                                </div>
                            ))}
                        </div>
                    </div>
                ),
                qType: "matching",
                questions: [
                    { left: "ุญููู ุงูุฑุงุนู ุนูู ุงูุฑุนูุฉ โฌ๏ธ ุงูุฑุนูุฉ ุนูู ุงูุฑุงุนู", right: "ููุงุฑุฉ ุงูููุจ" },
                    { left: "ุฃุญูุงู ุงูุทูู ูู ุงูุตูุงุฉ โฌ๏ธ ุฃุจูุงุจ ุงูุนุจุงุฏุงุช", right: "ููุงุฑุฉ ุงูุชุนููู ูุงูุชูุจูุฑ" },
                    { left: "ุฃุญูุงู ูุฑุงุกุฉ ุงููุฑุขู โฌ๏ธ ูุฑุงุกุฉ ุงููุฑุขู ูู ูุชุงุจ ุงููุบูู", right: "ููุงุฑุฉ ุงูุชุตุบูุฑ ูุงูุชุฎุตูุต" },
                    { left: "ุงูููุถูุน ุงูุฌูุฏ ูู ููุงูุชู", right: "ูุซูุฑ ุชุณุงุคูุงุช ุฃูุซุฑ ููุง ููุฏู ุฅุฌุงุจุงุช" }
                ]
            },
            {
                id: 4,
                title: "ุงููุณุฃูุฉ ุงูุณุงุจุนุฉ : ุนููุงู ุงูุจุญุซ",
                color: "bg-trait4",
                icon: "๐ท๏ธ",
                content: (
                    <div className="space-y-6">
                        <p className="text-lg">ุงูุจุญุซ ููููุฏ ุฌุฏูุฏ ูุญุชุงุฌ ูุงุณู ูุงุฆูุ ูุนููุงูู ูู ูุทูุนู ุงูุฐู ูุญุฏุฏ ูุณุงุฑู ุดุฃู <span className="hl-mark">ุงููุงูุชุฉ ุฐุงุช ุงูุณูู</span>. ููุจุบู ุงูุนูุงูุฉ ุจู ุจูุฑุงุนุงุฉ ูกูฅ ุฃูุฑุงู:</p>
                        
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                            <div className="bg-white p-4 rounded-xl border border-gray-200 shadow-sm"><strong className="text-navy">ูก. ุงูุชูุฑูู ุนู ูุชุจ ุงูุชุณููู:</strong> ุงูุนููุงู ุงูุนููู ููุนูุฑููู ุงููุถููู ููุง ูุนุชูุฏ ุงูุตุฏูุฉ ูุงูุฅุซุงุฑุฉ.</div>
                            <div className="bg-white p-4 rounded-xl border border-gray-200 shadow-sm"><strong className="text-navy">ูข. ูุจุชูุฑุงู ููุงุฆูุงู.</strong></div>
                            <div className="bg-white p-4 rounded-xl border border-gray-200 shadow-sm"><strong className="text-navy">ูฃ. ุดุงููุงู ูููุตุญุงู.</strong> ููุทุงุจูุงู ูุฃููุงุฑู.</div>
                            <div className="bg-white p-4 rounded-xl border border-gray-200 shadow-sm"><strong className="text-navy">ูค. ุชุชุจูู ููู ุงูุญุฏูุฏ ูุงูุฃุจุนุงุฏ.</strong></div>
                            <div className="bg-white p-4 rounded-xl border border-gray-200 shadow-sm"><strong className="text-navy">ูฅ. ุฃูุง ูุชุถูู ูุง ููุณ ููู.</strong></div>
                            <div className="bg-white p-4 rounded-xl border border-gray-200 shadow-sm"><strong className="text-navy">ูฆ. ููุญู ุจุงูุฃููุงุฑ ุจุฐูุงุก.</strong></div>
                            <div className="bg-white p-4 rounded-xl border border-gray-200 shadow-sm"><strong className="text-navy">ูง. ุฃูุง ูุชููู ุงูุณุฌุน.</strong></div>
                            <div className="bg-white p-4 rounded-xl border border-gray-200 shadow-sm"><strong className="text-navy">ูจ. ุฃูุง ูููู ููุญุดุงู ููููุฑุงู.</strong></div>
                            <div className="bg-white p-4 rounded-xl border-l-4 border-gold shadow-sm"><strong className="text-gold">ูฉ. ุฅุถุงุกุฉ ุงูุนููุงู:</strong> ุฃู ูุดุชูู ุนูู ุฅุถุงุกุฉ ุชุญุชู ุฅุฐุง ุงุญุชูุฌ (ูุซู: ุฏุฑุงุณุฉ ูุชุญููู).</div>
                            <div className="bg-red-50 p-4 rounded-xl border border-red-200 shadow-sm"><strong className="text-red-700">ูกู. ุฃูุง ูููู ุทูููุงู ูููุงู:</strong> ูุง ูุญุณู ุฃู ูุฒูุฏ ุนูู <span className="font-bold underline">ุฎูุณ ุนุดุฑุฉ ูููุฉ</span>.</div>
                            <div className="bg-red-50 p-4 rounded-xl border border-red-200 shadow-sm"><strong className="text-red-700">ูกูก. ุฃูุง ูุดุชูู ุนูู ุญูู ูุณุจู:</strong> (ูุซู: ุชุญุฑูู ูุฐุง) ูุฃูู ููููุฏ ุงูุชุดููู ูุงูููุถูุนูุฉ.</div>
                            <div className="bg-red-50 p-4 rounded-xl border border-red-200 shadow-sm"><strong className="text-red-700">ูกูข. ุฃูุง ูููู ุบุงูุถุงู.</strong></div>
                            <div className="bg-red-50 p-4 rounded-xl border border-red-200 shadow-sm col-span-1 md:col-span-2"><strong className="text-red-700">ูกูฃ. ุฃูุง ูููู ุฑูููุงู:</strong> ุจุณุจุจ ูุซุฑุฉ ุงูุฅุถุงูุงุช (ุญูุงูุฉ ุฌุฑุนู ุญููุฉ ุงูุฌูุฏู...) ุฃู ูุซุฑุฉ ุงูุถูุงุฆุฑ ููุง ุนุงุจูุง ุนูู ุงููุชูุจู (ุณุจูุญ ููุง ูููุง ุนูููุง ุดูุงูุฏ).</div>
                            <div className="bg-white p-4 rounded-xl border-l-4 border-blue-500 shadow-sm"><strong className="text-blue-700">ูกูค. ุงูุชุฎุตุต ุงูุฏููู:</strong> ููุดุนุฑ ุจุงูุชุฎุตุต (ูููุ ุนููุฏุฉ..) ุณูุงุก ูู ุงูุนููุงู ุฃู ูู ุงูุฅุถุงุกุฉ. (ูุซู: ูููุฌ ุงุจู ุญุฒู ูู ูุชุงุจู ุงููุญูู โฌ๏ธ ููููุฉ).</div>
                            <div className="bg-white p-4 rounded-xl border border-gray-200 shadow-sm"><strong className="text-navy">ูกูฅ. ุฃูุง ูุดุชูู ุนูู ุชูุฑุงุฑ:</strong> (ุงููุณุงุฆู ุงูุนูุฏูุฉ... ุซู ููุชุจ ูู ุงูุฅุถุงุกุฉ: ุฏุฑุงุณุฉ ุนูุฏูุฉ).</div>
                        </div>
                        <div className="bg-navy text-cream p-4 rounded-xl mt-4 text-center font-bold font-amiri text-xl">
                            "ุงูุนููุงู ุงูุนููู ุงูุตุญูุญ ูู ุงููุนุจุฑ ุนูุง ุชุญุชูุ ูุงูุฐู ุชุณุชุทูุน ูู ุฎูุงูู ุชูุณูู ุงูุจุญุซ ุฅูู ุฃุจูุงุจ ููุตูู."
                        </div>
                    </div>
                ),
                mindmap: (
                    <div className="relative bg-navy rounded-3xl p-8 flex flex-col items-center justify-center overflow-hidden">
                        <div className="tree-node bg-gold text-navy font-amiri font-bold text-2xl px-8 py-3 rounded-full mb-8 z-10 shadow-glow">
                            ููุงุตูุงุช ุงูุนููุงู ุงููููุฒ
                        </div>
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 z-10 w-full text-center">
                            <div className="bg-emerald-500/20 border border-emerald-400 text-emerald-100 p-3 rounded-xl text-sm font-bold">ุดุงูู ููููุตุญ</div>
                            <div className="bg-emerald-500/20 border border-emerald-400 text-emerald-100 p-3 rounded-xl text-sm font-bold">ููุดุนุฑ ุจุงูุชุฎุตุต ุงูุฏููู</div>
                            <div className="bg-red-500/20 border border-red-400 text-red-100 p-3 rounded-xl text-sm font-bold">ุฃูู ูู 15 ูููุฉ</div>
                            <div className="bg-red-500/20 border border-red-400 text-red-100 p-3 rounded-xl text-sm font-bold">ูุง ูุญูู ุญููุงู ูุณุจูุงู</div>
                            <div className="bg-red-500/20 border border-red-400 text-red-100 p-3 rounded-xl text-sm font-bold">ุฎุงูู ูู ุงูุฑูุงูุฉ ูุงูุถูุงุฆุฑ</div>
                            <div className="bg-blue-500/20 border border-blue-400 text-blue-100 p-3 rounded-xl text-sm font-bold">ูุง ูุนุชูุฏ ุงูุตุฏูุฉ ูุงูุชุณููู</div>
                            <div className="bg-gold/20 border border-gold text-gold p-3 rounded-xl text-sm font-bold col-span-2">ูุญุชูู "ุฅุถุงุกุฉ" ุชุญุช ุงูุนููุงู ุนูุฏ ุงูุญุงุฌุฉ ูุชุญุฏูุฏ ุงููุณุงุฑ</div>
                        </div>
                    </div>
                ),
                qType: "dropdown",
                questions: [
                    {
                        text: "ูู ููุงุตูุงุช ุนููุงู ุงูุจุญุซ ุงูุฌูุฏ ุฃูุง ูุฒูุฏ ุทููู ุนู {{blank}} ูููุฉ.",
                        options: ["ุนุดุฑ", "ุฎูุณ ุนุดุฑุฉ", "ุนุดุฑูู", "ุฎูุณ ูุนุดุฑูู"],
                        correct: "ุฎูุณ ุนุดุฑุฉ"
                    },
                    {
                        text: "ูุถุน ุนููุงู ูุซู (ุชุญุฑูู ูุฐุง ููุฐุง) ููุนุฏ ุนูุจุงู ูุฃูู ูุดุชูู ุนูู {{blank}}.",
                        options: ["ุฅุถุงุกุฉ ููุฑุฑุฉ", "ุฑูุงูุฉ ูุบููุฉ", "ุญูู ูุณุจู", "ุณุฌุน ูุชููู"],
                        correct: "ุญูู ูุณุจู"
                    },
                    {
                        text: "ุงูุนุจุงุฑุฉ ุงูุชู ุชููุชุจ ุชุญุช ุงูุนููุงู ุงูุฑุฆูุณู ูุชูุถูุญ ูุณุงุฑู (ูุซู: ุฏุฑุงุณุฉ ูุชุญููู) ุชุณูู {{blank}}.",
                        options: ["ุฅุถุงุกุฉ", "ุฎุงุชูุฉ", "ุชูููุฏ", "ูุดููุฉ ุงูุจุญุซ"],
                        correct: "ุฅุถุงุกุฉ"
                    }
                ]
            },
            {
                id: 5,
                title: "ุงููุณุฃูุฉ ุงูุซุงููุฉ : ูุดููุฉ ุงูุจุญุซ (ุงูููููู ูุงูุตูุงุบุฉ)",
                color: "bg-trait5",
                icon: "โ",
                content: (
                    <div className="space-y-6">
                        <p className="text-lg">ูุตุทูุญ (Research Problem) ูุชุฑุฌูุ ููุตุฏู ุฃูุซุฑ ุนูู ุงูุจุญูุซ ุงูุชุฌุฑูุจูุฉ. ูููุงู ุฎูุท ุดุงุฆุน ุจูู ููุนูู ูู ุงููุดููุงุช:</p>
                        <div className="flex flex-col md:flex-row gap-6">
                            <div className="flex-1 glass-panel p-6 rounded-2xl border-t-8 border-red-500 relative overflow-hidden">
                                <span className="absolute -right-4 -top-4 text-6xl opacity-10">๐ฅ</span>
                                <h4 className="font-bold text-red-700 text-xl mb-3 font-amiri">ุงููุดููุฉ ุงูุงุฌุชูุงุนูุฉ</h4>
                                <p className="text-gray-700 text-sm leading-relaxed">ูููู ูุญุชุงุฌ ูุนุงูุฌุฉ ุฅุตูุงุญูุฉุ ูููุฌู ุนู ุธุฑูู ุงููุฌุชูุน. ูุชุนุฏ <span className="hl-red">ุธุงูุฑุฉ ูุฑุถูุฉ</span> ุชุตูุจ ูุธุงูุงู ุงุฌุชูุงุนูุงู (ูุซู ุนูุงูุฉ ุงูุฃุจ ุจุงุจูู).</p>
                            </div>
                            <div className="flex-1 glass-panel p-6 rounded-2xl border-t-8 border-blue-500 relative overflow-hidden">
                                <span className="absolute -right-4 -top-4 text-6xl opacity-10">๐ฌ</span>
                                <h4 className="font-bold text-blue-700 text-xl mb-3 font-amiri">ุงููุดููุฉ ุงูุนูููุฉ (ุงูุจุญุซูุฉ)</h4>
                                <p className="text-gray-700 text-sm leading-relaxed">ููุถูุน ูุญูุท ุจู ุงูุบููุถ ููุญุชุงุฌ ุชูุณูุฑ. ููู <span className="hl-blue">ุฃูุณุน ูุฃุดูู</span> ูู ุงูุงุฌุชูุงุนูุฉุ ููู ุชุนูู ุฏุฑุงุณุฉ ุงูุธุงูุฑุฉ ุณูุงุก ูุงูุช ูุฑุถูุฉ ุฃู ุณููุฉ.</p>
                            </div>
                        </div>

                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 mt-6">
                            <h4 className="font-bold text-navy text-2xl mb-4 font-amiri border-b-2 border-gold inline-block">ุตูุงุบุฉ ูุดููุฉ ุงูุจุญุซ (ุทุฑููุชุงู):</h4>
                            
                            <div className="mb-6">
                                <h5 className="font-bold text-emerald-700 text-lg mb-2">ุงูุทุฑููุฉ ุงูุฃููู (ููู ุงูุฃูุถู ูุงูููุญุจุฐุฉ):</h5>
                                <p className="mb-2">ุฃู ุชุตุงุบ ุจุณุคุงู ูุจูุฑ ุนุงูุ ุซู ูููุฑูุน ุนููู ุฃุณุฆูุฉ ุฌุฒุฆูุฉ ูู ุตูุจ ุงููุดููุฉ (ูุง ุชุดูู ุฃุณุฆูุฉ ุนู ุงูุชูููุฏ ุฃู ุญูุงุฉ ุงููุคูู).</p>
                                <div className="bg-gray-50 p-3 rounded-lg border-r-4 border-emerald-400 text-sm">
                                    <span className="font-bold">ูุซุงู:</span> ูุง ูููู ุงุจู ุนุงุดูุฑ ูู ุฎูุงุฑู ุงูุนุงุฏุงุชุ <br/>
                                    (ุฃุณุฆูุฉ ูุฑุนูุฉ): ูุง ููููู ูู ุงููุนุฌุฒุงุชุ ููุง ููููู ูู ุงููุฑุงูุงุชุ
                                </div>
                            </div>

                            <div>
                                <h5 className="font-bold text-blue-700 text-lg mb-2">ุงูุทุฑููุฉ ุงูุซุงููุฉ:</h5>
                                <p className="mb-2">ุฃู ุชุตุงุบ ุจุนุจุงุฑุฉ ุชูุฑูุฑูุฉ ุฎุจุฑูุฉ ูุจุงุดุฑุฉ (ุฌุงูุนุฉ ูุงูุนุฉ) ุชุญุฏุฏ ุงูููุถูุน ุฏูู ุฅุซุงุฑุฉ ุฃุณุฆูุฉ ุญูููุง.</p>
                                <div className="bg-gray-50 p-3 rounded-lg border-r-4 border-blue-400 text-sm">
                                    <span className="font-bold">ูุซุงู:</span> ููุถูุน ุงูุจุญุซ ูู ูููู ุงุจู ุนุงุดูุฑ ูู ุฎูุงุฑู ุงูุนุงุฏุงุช ููุง ูุฏุฎู ุชุญุชูุง ูู ูุนุฌุฒุงุช ููุฑุงูุงุช...
                                </div>
                            </div>
                        </div>

                        <div className="bg-yellow-50 p-4 border border-yellow-300 rounded-xl mt-4 flex items-start gap-3">
                            <span className="text-2xl">๐ก</span>
                            <p className="text-sm font-bold text-navy leading-relaxed">ููุงุญุธุฉ: ูุฑู ุจุนุถ ุงูุจุงุญุซูู ุฃูุง ุชูุตุงุบ ุงูุฃุณุฆูุฉ ุจุฃุฏุงุฉ ุงูุงุณุชููุงู (ูู) ูุฃู ุฌูุงุจูุง ููุท (ูุนู/ูุง)ุ ุจู ููุณุชุญุณู ุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุงูุงุณุชููุงู (ูุง) ูุซู: ูุง ูููุฌ ููุงูุ ููุง ุงููุงุฆุฏุฉุ</p>
                        </div>
                    </div>
                ),
                mindmap: (
                    <div className="relative bg-navy rounded-3xl p-8 flex flex-col items-center justify-center overflow-hidden">
                        <div className="tree-node bg-cream text-navy font-amiri font-bold text-2xl px-6 py-2 rounded-xl mb-8 z-10 border-2 border-gold">
                            ูุดููุฉ ุงูุจุญุซ
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8 w-full z-10">
                            <div className="border border-white/20 p-5 rounded-2xl bg-white/5 relative">
                                <div className="absolute -top-3 right-6 bg-gold text-navy px-3 py-1 rounded-full text-xs font-bold">ุงูููููู</div>
                                <ul className="text-cream text-sm space-y-2 mt-2 list-disc list-inside">
                                    <li>ุงููุดููุฉ ุงูุงุฌุชูุงุนูุฉ: ุธุงูุฑุฉ ูุฑุถูุฉ ููุท.</li>
                                    <li>ุงููุดููุฉ ุงูุนูููุฉ: ุฃูุณุน ูุชุดูู ุฏุฑุงุณุฉ ุงูุธุงูุฑุฉ ุงูุณููุฉ ูุงููุฑุถูุฉ ูุนุงู.</li>
                                </ul>
                            </div>
                            <div className="border border-white/20 p-5 rounded-2xl bg-white/5 relative">
                                <div className="absolute -top-3 right-6 bg-emerald-500 text-white px-3 py-1 rounded-full text-xs font-bold">ุงูุตูุงุบุฉ ุงูุฃูุถู</div>
                                <ul className="text-cream text-sm space-y-2 mt-2 list-disc list-inside">
                                    <li>ุณุคุงู ูุจูุฑ ุฑุฆูุณู ุชุชูุฑุน ููู ุฃุณุฆูุฉ ูู ุตูุจ ุงูููุถูุน.</li>
                                    <li>ูููุถู ุงุณุชุฎุฏุงู ุฃุฏุงุฉ (ูุง) ุจุฏูุงู ูู (ูู).</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                ),
                qType: "dropdown",
                questions: [
                    {
                        text: "ุงููุดููุฉ ุงูุนูููุฉ ุฃูุณุน ูุฃุดูู ูู ุงููุดููุฉ ุงูุงุฌุชูุงุนูุฉ ูุฃู ุงูุฃุฎูุฑุฉ ููุชุตุฑุฉ ุนูู ุงูุธูุงูุฑ {{blank}}.",
                        options: ["ุงูุนูููุฉ", "ุงูุชุฌุฑูุจูุฉ", "ุงููุฑุถูุฉ", "ุงูุณููุฉ"],
                        correct: "ุงููุฑุถูุฉ"
                    },
                    {
                        text: "ุงูุทุฑููุฉ ุงููุญุจุฐุฉ ูุตูุงุบุฉ ูุดููุฉ ุงูุจุญุซ ูู ุงุณุชุฎุฏุงู {{blank}} ุชุชูุฑุน ููู ุฃุณุฆูุฉ ุฌุฒุฆูุฉ.",
                        options: ["ุนุจุงุฑุฉ ุชูุฑูุฑูุฉ ุฎุจุฑูุฉ", "ุณุคุงู ูุจูุฑ ุนุงู", "ููุฏูุฉ ุทูููุฉ", "ุชูููุฏ ุชุงุฑูุฎู"],
                        correct: "ุณุคุงู ูุจูุฑ ุนุงู"
                    },
                    {
                        text: "ููุณุชุญุณู ุชุฌูุจ ุตูุงุบุฉ ุฃุณุฆูุฉ ุงูุจุญุซ ุจุฃุฏุงุฉ ุงูุงุณุชููุงู {{blank}} ูุฃู ุฌูุงุจูุง ูููู ุจูุนู ุฃู ูุง.",
                        options: ["ููู", "ููุงุฐุง", "ูุชู", "ูู"],
                        correct: "ูู"
                    }
                ]
            }
        ];

        // --- Data: Flashcards (12) ---
        const flashcards = [
            { front: "ุงูุฌุฏุฉ ูุงูุฅุถุงูุฉ", back: "ูุฌูุฏ ููุถูุน ุฌุฏูุฏ ุฌุฏูุฑ ุจุงูุฏุฑุงุณุฉ ูููุชุฑู ุจูุดููุฉ ูุงุฆูุฉ ูุฑุงุฏ ุญููุง ูุชูุฏูู ุฅุถุงูุฉ ุนูููุฉ." },
            { front: "ุชุฌูุจ ุงูุชูุฑุงุฑ", back: "ุญุชู ูุง ูููู ุงูุจุญุซ ูุจุชุฐูุงูุ ููููู ุงูููุช ูุงูุฌูุฏ ูุงููุงู ุงูุฐู ูุตุฑู ููู ุถุงุฆุนุงู." },
            { front: "ููุงุฑุฉ ุงูููุจ", back: "ุฃู ูููุจ ุงูุจุงุญุซ ุนููุงู ุจุญุซ ูุทุฑูู ููููู ุจุญุซุงู ุฌุฏูุฏุงู (ูุซู: ุญููู ุงูุฑุงุนู ุนูู ุงูุฑุนูุฉ -> ุญููู ุงูุฑุนูุฉ ุนูู ุงูุฑุงุนู)." },
            { front: "ููุงุฑุฉ ุงูุชุนููู ูุงูุชูุจูุฑ", back: "ุชุนููู ุงูููุถูุน ูุชูุจูุฑ ููุฑุชู (ูุซู: ุฃุญูุงู ุงูุทูู ูู ุงูุตูุงุฉ -> ุฃุญูุงู ุงูุทูู ูู ุงูุนุจุงุฏุงุช)." },
            { front: "ููุงุฑุฉ ุงูุชุตุบูุฑ ูุงูุชุฎุตูุต", back: "ุฃู ุชุนูุฏ ุฅูู ููุถูุน ูุจูุฑ ูุชุตุบุฑู ูุชุฎุตุตู (ูุซู: ุฃุญูุงู ูุฑุงุกุฉ ุงููุฑุขู -> ุฃุญูุงู ูุฑุงุกุฉ ุงููุฑุขู ูู ูุชุงุจ ุงููุบูู)." },
            { front: "ุงููุดููุฉ ุงูุงุฌุชูุงุนูุฉ", back: "ูููู ูุญุชุงุฌ ุฅูู ูุนุงูุฌุฉ ุฅุตูุงุญูุฉุ ูููุฌู ุนู ุธุฑูู ุงููุฌุชูุน ุฃู ุงูุจูุฆุฉุ ูุชุนุฏ ุธุงูุฑุฉ ูุฑุถูุฉ." },
            { front: "ุงููุดููุฉ ุงูุนูููุฉ", back: "ุฏุฑุงุณุฉ ุงูุธุงูุฑุฉ (ุณูุงุก ูุฑุถูุฉ ุฃู ุณููุฉ)ุ ููู ุฃูุณุน ูุฏูููุงู ูุฃูุซุฑ ุดูููุงู ูู ุงููุดููุฉ ุงูุงุฌุชูุงุนูุฉุ ูููุถูุน ูุญูุท ุจู ุงูุบููุถ ูุญุชุงุฌ ูุชูุณูุฑ." },
            { front: "ุทูู ุนููุงู ุงูุจุญุซ", back: "ูู ุฃูุจุฑ ุงูุนููุจุ ูุฃู ุงูุจุงุญุซ ูุญุชุงุฌ ูุฐูุฑู ูุฑุงุฑุงู. ูููุถู ุฃูุง ูุฒูุฏ ุนูู 15 ูููุฉ." },
            { front: "ุงูุญูู ุงููุณุจู ูู ุงูุนููุงู", back: "ูุฎุชุฒู ุงูุจุญุซ ููููุฏู ุนูุตุฑ ุงูุชุดููู ูุงูุฅุซุงุฑุฉ ูุงูููุถูุนูุฉ (ูุซู: ุชุญุฑูู ูุฐุง...)." },
            { front: "ุตูุงุบุฉ ุงููุดููุฉ (ุงูุทุฑููุฉ ุงูุฃููู)", back: "ุชุตุงุบ ุจุณุคุงู ูุจูุฑ ุนุงูุ ุซู ููุฑุน ุนููู ุนุฏุฉ ุฃุณุฆูุฉ ุฌุฒุฆูุฉุ ููู ุงูุทุฑููุฉ ุงูุฃูุถู ูุงููุญุจุฐุฉ." },
            { front: "ุตูุงุบุฉ ุงููุดููุฉ (ุงูุทุฑููุฉ ุงูุซุงููุฉ)", back: "ุชุตุงุบ ุจุนุจุงุฑุฉ ุชูุฑูุฑูุฉ ูุจุงุดุฑุฉ ุฏูู ุฅุซุงุฑุฉ ุฃุณุฆูุฉ ุญูููุง." },
            { front: "ุฃุฏุงุฉ ุงูุงุณุชููุงู ุงูููุงุณุจุฉ", back: "ููุณุชุญุณู ุงุณุชุฎุฏุงู (ูุง) ุจุฏูุงู ูู (ูู)ุ ูุฃู (ูู) ุฌูุงุจูุง ูุนู ุฃู ูุง ููุท." },
        ];

        // --- Data: Accordions (10) ---
        const accordions = [
            { q: "ููุงุฐุง ูุญุฐุฑ ุงูุนููุงุก ูู ุงุนุชูุงุฏ ุงูุทุงูุจ ุนูู ููุชุฑุญุงุช ุงูุขุฎุฑูู ูู ุงุฎุชูุงุฑ ุงูููุถูุนุ", a: "ูุฃู ุญุณู ุงุฎุชูุงุฑ ุงูููุถูุน ูููุงุฆูุชู ููุจุงุญุซ ูุงุณุชุนุฏุงุฏู ูููููู ูู ูุญูุฑ ุงูุนูู ุงูุนููู ุงููุงุฌุญุ ููู ูุฑุงุนู ููููู ูููู ุฃูุซุฑ ูุฌุงุญุงู ูุฅุจุฏุงุนุงู." },
            { q: "ูุง ูู ุงูุฃููุฑ ุงูุซูุงููุฉ ุงูุชู ูุฌุจ ุชูุงุฏููุง ูู ุงุฎุชูุงุฑ ุงูููุถูุน ุงูููุซูุฉ ูู ุจูุช ุงูุดุนุฑุ", a: "ุฎูุงูุ ุชุนููุฏุ ุฎูููุ ุตุนูุจุฉุ ุถููุ ุบููุถุ ุงุชุณุงุน (ููู ูุฌููุนุฉ ูู ุงูุจูุช: ุฎูุงู ูุชุนููุฏ ุฎููู ุตุนูุจุฉ ... ูุถูู ุบููุถ ูุงุฌุชูุจูุง ุฌููุนูุง)." },
            { q: "ููู ุชุณุงุนุฏ ููุงุฑุฉ 'ุงูููุงุณ' ูู ุชูููุฏ ุงูููุถูุนุงุชุ", a: "ุจุฃู ุชููุณ ููุถูุนุงู ุนูู ููุถูุนุ ูุซู ููุงุณ (ุฃุญูุงู ุงูููุญูุฏ ุนูุฏ ุงูุญูุงุจูุฉ) ูุชุณุชุฎุฑุฌ ููู (ุฃุญูุงู ุงูููุญูุฏ ุนูุฏ ุงููุงูููุฉ)." },
            { q: "ููุงุฐุง ููุนุฏ ุนููุงู ุงูุจุญุซ ูุซู (ุงููุงูุชุฉ ุฐุงุช ุงูุณูู)ุ", a: "ูุฃูู ูุทูุนู ูุฃูู ูุง ุชูุน ุนููู ุนูู ุงููุงุฑุฆุ ูุนุทู ุงูุงูุทุจุงุน ุงูุฃูู ููุญุฏุฏ ูุณุงุฑ ุงูุจุญุซุ ููุฑุดุฏ ุงูุณุงุฆุฑูู ูุฃุฌูู ุงููุนุงูู ุงูุจุงุฑุฒุฉ." },
            { q: "ูุง ุงููุฑู ุจูู ุนููุงู ุงูุจุญุซ ุงูุนููู ูุนูุงููู ุงููุชุจ ุงูุชุณููููุฉ ุฃู ุงูุฑูุงูุงุชุ", a: "ุนููุงู ุงูุจุญุซ ุงูุนููู ููุนูุฑููู ุงููุงุฑุฆ ุจูุถูููู ุจุฏูุฉุ ุจูููุง ุงูุฑูุงูุงุช ูุฏ ุชุนุชูุฏ ุนูู ุงูุฅุซุงุฑุฉุ ูุชุฃุชู ุตุงุฏูุฉ ุฃู ูุฎุงููุฉ ููุถููููุง ุฃุญูุงูุงู." },
            { q: "ูุง ุงููุฑุงุฏ ุจู 'ุฅุถุงุกุฉ ุงูุนููุงู'ุ", a: "ูู ุงูุนุจุงุฑุฉ ุงูุชู ุชููุชุจ ุชุญุช ุงูุนููุงู ุงูุฑุฆูุณ ูุชูุถูุญู ูุชุญุฏูุฏ ูุณุงุฑู (ูุซู: ุฏุฑุงุณุฉ ูุชุญูููุ ุฃู ุฌูุนุงู ูุฏุฑุงุณุฉุ ุฃู ุฏุฑุงุณุฉ ููููุฉ)." },
            { q: "ููุงุฐุง ุนููุจู ุนูู ุงููุชูุจู ูููู: 'ูุชุณุนุฏูู ูู ุบูุฑุฉ... ุณุจูุญ ููุง ูููุง ุนูููุง ุดูุงูุฏ' ูู ุณูุงู ุงูุนูุงูููุ", a: "ููุณุชุดูุฏ ุจู ููุชุญุฐูุฑ ูู ุฑูุงูุฉ ูุซุฑุฉ ุงูุถูุงุฆุฑ ุงููุชุชุงุจุนุฉ (ูู ุงูุนููุงู)ุ ุญูุซ ุชูุฑุฑุช ุงูุถูุงุฆุฑ (ููุงุ ูููุงุ ุนูููุง) ููุง ูุณุจุจ ุงูุฑูุงูุฉ." },
            { q: "ููุงุฐุง ุชูุนุชุจุฑ ุชุฑุฌูุฉ (Research Problem) ุฅูู 'ูุดููุฉ ุงูุจุญุซ' ุบูุฑ ุฏูููุฉ ูู ุงูุฏุฑุงุณุงุช ุงูุฃูุงุฏูููุฉ ุงูุฅูุณุงููุฉุ", a: "ูุฃููุง ุชุตุฏู ุฃูุซุฑ ุนูู ุงูุจุญูุซ ุงูุชุฌุฑูุจูุฉ ูุงูุทุจ ูุงูููุฏุณุฉุ ุจูููุง ุงููุดููุฉ ุงูุนูููุฉ ูู ุงูุฏุฑุงุณุงุช ุงูุฃูุงุฏูููุฉ ูู ุฅุดูุงู ูุงุฆู ุฃู ูุถูุฉ ูุนููุฉ ุชุญุชุงุฌ ููู ูุฒูู ุฅุดูุงููุง ุจุงูุจุญุซ." },
            { q: "ูู ุตูุงุบุฉ ุงููุดููุฉ ุจุฃุณุฆูุฉ ูุฑุนูุฉ ุชุดูู ุฃุณุฆูุฉ ุนู ุงูุชูููุฏ (ูุญูุงุฉ ุงููุคูู)ุ", a: "ูุงุ ุงูุฃุณุฆูุฉ ุงููุฑุนูุฉ ูุฌุจ ุฃู ุชููู ูู ุตูุจ ุงููุดููุฉ ููุญุงูุฑ ุงูุจุญุซ ุงูุฑุฆูุณุฉุ ููุง ุชุชุนูู ุจููุถูุนุงุช ุซุงูููุฉ ููุณ ุฃุฌุฒุงุก ูู ุงูููุถูุน ุงูุฑุฆูุณ." },
            { q: "ูุง ูู ุงูุดุฑุท ุงูุฃุณุงุณู ูู ุตูุงุบุฉ ุงููุดููุฉ ุจุงูุทุฑููุฉ ุงูุชูุฑูุฑูุฉุ", a: "ุฃู ุชุชุถูู ุชุญุฏูุฏุงู ุฏูููุงู ููุจุงุดุฑุงู ููููุถูุน ุงูุฑุฆูุณ ุงูุฐู ููุน ุนููู ุงุฎุชูุงุฑ ุงูุจุงุญุซ ูููุงุทู ุงูุฑุฆูุณุฉ ูุงููุฑุนูุฉุ ูู ุฌูู ุชูุฑูุฑูุฉ (ุฌุงูุนุฉ ูุงูุนุฉ) ุฏูู ุฃุณุฆูุฉ." },
        ];

        // --- Data: Final Assessment (20 MCQs strictly from text) ---
        const finalQuizData = [
            { q: "ุญุณุจ ุงููุงุฏุฉุ ุชุฏูุฑ ุญูุงุฉ ุงูุจุงุญุซ ุงูุฃูุงุฏูููุฉ ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุญูู:", options: ["ุงููุฑุงุฌุน ุงูุชู ูุฑุฃูุง", "ุจุญุซู ุงูุฐู ูุฎุชุงุฑู ูุฑุณุงูุชู ุงูุนูููุฉ", "ุงูุฌุงูุนุฉ ุงูุชู ุชุฎุฑุฌ ูููุง", "ุงูููุงูุงุช ุงูุชู ูุดุฑูุง"], ans: 1 },
            { q: "ุงูุจุฏุงูุฉ ุงูููุทููุฉ ููููุงู ุจุจุญุซ ุนููู ุฃุตูู ูุงุจุนุฉ ูู:", options: ["ุฅุญุณุงุณ ุงูุจุงุญุซ ุจูุฌูุฏ ููุถูุน ุฌุฏูุฏ ูููุชุฑู ุจูุดููุฉ ูุงุฆูุฉ (ุงูุฌุฏุฉ ูุงูุฅุถุงูุฉ)", "ูุฑุงุนุงุฉ ุงูุฒูุงู ูุงูููุงู", "ุงูุจุญุซ ุนู ุงูุทุฑุงูุฉ ููุท", "ุชูููุฑ ููุช ุงูุจุญุซ"], ans: 0 },
            { q: "ูุญูุฑ ุงูุนูู ุงูุนููู ุงููุงุฌุญ ูุนุชูุฏ ุจุงูุฃุณุงุณ ุนูู:", options: ["ุงูุงุณุชุฎุงุฑุฉ", "ุญุณู ุงุฎุชูุงุฑ ุงูููุถูุน ูููุงุฆูุชู ููุจุงุญุซ ูุงุณุชุนุฏุงุฏู ูููููู", "ุงููุฑุงุกุฉ ุงูููุซูุฉ ูููุชุจ ุงููุฏููุฉ", "ุงุณุชุดุงุฑุฉ ุงููุดุฑู ุงูุฃูุงุฏููู ููุท"], ans: 1 },
            { q: "ูุญุฐุฑ ุงูุนููุงุก ูุงูุจุงุญุซูู ูู ุงุนุชูุงุฏ ุทุงูุจ ุงูุฏุฑุงุณุงุช ุงูุนููุง ูู ุงุฎุชูุงุฑ ููุถูุนู ุนูู:", options: ["ููุชุฑุญุงุช ุงูุขุฎุฑูู ุฏูู ุฃู ูููู ููุงุฆูุงู ููุทุงูุจ", "ุงููุชุจ ุงูุฃุฌูุจูุฉ ุงููุชุฑุฌูุฉ", "ุงูุฅูุชุฑูุช ูุงููุฌูุงุช ุงูุนูููุฉ", "ููุงุฑุฉ ุงูููุงุณ ูุงูุชุตุบูุฑ"], ans: 0 },
            { q: "ุฅุบูุงู ุนุงูู (ุงูุฒูุงู ูุงูููุงู) ูู ุงุฎุชูุงุฑ ุงูููุถูุน ูุฏ ูุคุฏู ุจุงูุจุงุญุซ ุฅูู:", options: ["ุฃู ูููู ุจุญุซู ุทูููุงู ุฌุฏุงู", "ุฃู ูููุฏ ุฌุฒุกุงู ูู ุญุฑูุชู ูุชููู ุนููู ุงูุธุฑูู ุงููุญูุทุฉ ุทุจูุนุฉ ุจุญุซู", "ุฒูุงุฏุฉ ุงูุชูููุฉ ุงููุงุฏูุฉ ูุทุจุงุนุฉ ุงูุจุญุซ", "ุฃู ูููู ููุถูุนู ุฎูููุงู ูููุชุนุงู"], ans: 1 },
            { q: "ุงูููุถูุนุงุช ุงูุชู ูุดุชุฏ ุญูููุง ุงูุฎูุงู ููุณุชุญุณู ุชูุงุฏููุง ูุฃู ุงูุจุญุซ:", options: ["ูุงุฏุชู ูุงุฏุฑุฉ ูุตุนุจุฉ", "ูุฌุฑุฏ ุนุฑุถ ูุขุฑุงุก ุงููุฎุงูููู ูุงููุคูุฏูู ููุท", "ุฅุถุงูุฉ ุฐุงุช ูููุฉ ุชุซุฑู ุงููุนุงุฑู ูููุณ ูุฌุฑุฏ ุนุฑุถ ููุขุฑุงุก", "ูุญุชุงุฌ ูุชูููุฉ ุนุงููุฉ"], ans: 2 },
            { q: "ููุณุชุญุณู ุชูุงุฏู ุงูููุถูุนุงุช ุงูุฎุงููุฉ ุงูุชู ูุง ุชุจุฏู ููุชุนุฉุ ูุฃููุง:", options: ["ุตุนุจุฉ ุฌุฏุงู", "ุชุญุชุงุฌ ูุชูููุฉ ุนุงููุฉ", "ุชุจุนุซ ุนูู ุงูููู ูุชุนูู ุนู ุงูุชูุฏู", "ูุงุฏุชูุง ูุงุฏุฑุฉ"], ans: 2 },
            { q: "ุงููููุฉ ุงููุงูุตุฉ ูู ุจูุช ุงูุดุนุฑ (ุฎูุงู ูุชุนููุฏ ุฎููู ุตุนูุจุฉ *** ูุถูู ....... ูุงุฌุชูุจูุง ุฌููุนูุง) ูู:", options: ["ูุถูุญ", "ุบููุถ", "ุชูุฑุงุฑ", "ุฅุทุงูุฉ"], ans: 1 },
            { q: "ูู ููุงุฑุงุช ุชูููุฏ ุงูููุถูุนุงุช: ุฃู ูููุจ ุงูุจุงุญุซ ุนููุงู ุจุญุซ ูุทุฑูู ููููู ุฌุฏูุฏุงู (ูุซู: ุญููู ุงูุฑุงุนู ุนูู ุงูุฑุนูุฉ -> ุงูุฑุนูุฉ ุนูู ุงูุฑุงุนู)ุ ูุชูุณูู:", options: ["ููุงุฑุฉ ุงูุชูุจูุฑ", "ููุงุฑุฉ ุงูููุจ", "ุงุณุชุฎุฑุงุฌ ุงููุณูู", "ููุงุฑุฉ ุงูููุงุณ"], ans: 1 },
            { q: "ุชุญููู ููุถูุน (ุฃุญูุงู ุงูุทูู ูู ุจุงุจ ุงูุตูุงุฉ) ุฅูู (ุฃุญูุงู ุงูุทูู ูู ุฃุจูุงุจ ุงูุนุจุงุฏุงุช) ููุนุฏ ุชุทุจููุงู ูููุงุฑุฉ:", options: ["ุงูุชุตุบูุฑ ูุงูุชุฎุตูุต", "ุงูููุจ", "ุงูุชุนููู ูุงูุชูุจูุฑ", "ุงุณุชุฎุฑุงุฌ ุงููุณูู"], ans: 2 },
            { q: "ููุดุชุฑุท ูู ุนููุงู ุงูุจุญุซ ุฃูุง ูููู ุทูููุงู ูููุงูุ ููุง ูุญุณู ุฃู ุชุฒูุฏ ูููุงุชู ุนูู:", options: ["ุนุดุฑ ูููุงุช", "ุฎูุณ ุนุดุฑุฉ ูููุฉ", "ุนุดุฑูู ูููุฉ", "ุฎูุณ ูุนุดุฑูู ูููุฉ"], ans: 1 },
            { q: "ูุถุน ุนููุงู ูุซู (ุชุญุฑูู ูุฐุง ููุฐุง) ููุนุฏ ูู ุงูุนููุจ ูุฃูู:", options: ["ุทููู", "ูุดุชูู ุนูู ุญูู ูุณุจู ูููููุฏู ุงูุชุดููู ูุงูููุถูุนูุฉ", "ุฑููู", "ุบุงูุถ"], ans: 1 },
            { q: "ููู ุงูุดุงุนุฑ: (ุญูุงูุฉ ุฌุฑุนู ุญููุฉ ุงูุฌูุฏู ุงุณุฌุนู) ุงุณุชูุดูุฏ ุจู ููุชุญุฐูุฑ ูู ุฑูุงูุฉ ุงูุนููุงู ุงููุชูุซูุฉ ูู:", options: ["ุงูุบููุถ", "ูุซุฑุฉ ุงูุถูุงุฆุฑ", "ูุซุฑุฉ ุงูุฅุถุงูุงุช ุงููุชุชุงุจุนุฉ", "ุงูุณุฌุน ุงููุชููู"], ans: 2 },
            { q: "ูุชุงุจุฉ ุนุจุงุฑุฉ ูุซู (ุฏุฑุงุณุฉ ูุชุญููู) ุฃู (ุฌูุนุงู ูุฏุฑุงุณุฉ) ุชุญุช ุงูุนููุงู ุงูุฑุฆูุณู ุชุณูู:", options: ["ุฅุถุงุกุฉ", "ุญูู ูุณุจู", "ุชูุฑุงุฑ", "ููุงุฑุฉ ุชุนููู"], ans: 0 },
            { q: "ุงููุดููุฉ ุงูุชู ุชุนุฏ (ุธุงูุฑุฉ ูุฑุถูุฉ ุชุตูุจ ูุธุงูุงู ุงุฌุชูุงุนูุงู) ูู:", options: ["ุงููุดููุฉ ุงูุนูููุฉ", "ุงููุดููุฉ ุงูุจุญุซูุฉ", "ุงููุดููุฉ ุงูุงุฌุชูุงุนูุฉ", "ุงูุฅุดูุงููุฉ ุงููุบููุฉ"], ans: 2 },
            { q: "ุงููุดููุฉ ุงูุนูููุฉ ุฃูุณุน ุญุฏูุฏุงู ููุฏูููุงู ูู ุงููุดููุฉ ุงูุงุฌุชูุงุนูุฉุ ูุฃููุง ุชุฏุฑุณ ุงูุธุงูุฑุฉ:", options: ["ุงููุฑุถูุฉ ููุท", "ุณูุงุก ูุงูุช ูุฑุถูุฉ ุฃู ุณููุฉ", "ูู ุงูุนููู ุงูุชุทุจูููุฉ ููุท ูุงูุทุจ", "ุงูุชู ูุง ุญู ููุง"], ans: 1 },
            { q: "ุงูุทุฑููุฉ ุงูุฃูุถู ูุงูููุญุจุฐุฉ ูุตูุงุบุฉ ูุดููุฉ ุงูุจุญุซ ูู:", options: ["ุงูุนุจุงุฑุฉ ุงูุชูุฑูุฑูุฉ ุงูุฎุจุฑูุฉ", "ุงูุณุคุงู ุงููุจูุฑ ุงูุนุงู ุงููุชูุฑุน ูุนุฏุฉ ุฃุณุฆูุฉ ุฌุฒุฆูุฉ", "ูุชุงุจุชูุง ูู ุงูุฎุงุชูุฉ ููุท", "ุงูุฏูุฌ ุจูููุง ูุจูู ุงูุฅูุฏุงุก"], ans: 1 },
            { q: "ูู ูุซุงู (ูููู ุงุจู ุนุงุดูุฑ ูู ุฎูุงุฑู ุงูุนุงุฏุงุช)ุ ุงูุณุคุงู: (ูุง ููููู ูู ุงููุนุฌุฒุงุชุ) ููุนุฏ:", options: ["ุณุคุงูุงู ูุฑุนูุงู ูู ุตูุจ ุงููุดููุฉ", "ุณุคุงูุงู ุนุงูุงู", "ุณุคุงูุงู ุชูุฑูุฑูุงู", "ุณุคุงูุงู ุนู ุญูุงุฉ ุงููุคูู ูุชูููุฏ ุงูุจุญุซ"], ans: 0 },
            { q: "ุงูุฃุณุฆูุฉ ุงููุฑุนูุฉ ููุดููุฉ ุงูุจุญุซ ูุฌุจ ุฃูุง ุชุดูู ุฃุณุฆูุฉ ุชุฎุชุต ุจู:", options: ["ุตูุจ ุงูููุถูุน", "ูุญุงูุฑ ุงูุจุญุซ ุงูุฑุฆูุณุฉ", "ุฃุฌุฒุงุก ูู ุชูููุฏ ุงูุจุญุซ (ูุญูุงุฉ ุงููุคูู)", "ุงููุฑุงุฌุน ูุงููุตุงุฏุฑ"], ans: 2 },
            { q: "ูููุถู ุจุนุถ ุงูุจุงุญุซูู ุฃูุง ุชูุตุงุบ ุฃุณุฆูุฉ ุงูุจุญุซ ุจุฃุฏุงุฉ ุงูุงุณุชููุงู (ูู) ูุฃู:", options: ["ููุณุช ูุตุญู", "ุชุทูู ูู ุงูุนููุงู", "ูุง ุชุนุทู ุฅุฌุงุจุฉ ููุตูุฉ ุจู ุฌูุงุจูุง (ูุนู) ุฃู (ูุง) ููุท", "ุชุณุชุฎุฏู ูู ุงูุจุญูุซ ุงูุชุฌุฑูุจูุฉ ููุท"], ans: 2 },
        ];


        // --- Component: Header ---
        const Header = () => (
            <header className="bg-navy text-cream py-3 shadow-md sticky top-0 z-50 border-b-4 border-gold">
                <div className="container mx-auto px-4 flex justify-between items-center">
                    <div className="flex items-center gap-3">
                        <div className="w-12 h-12 bg-white flex items-center justify-center rounded-lg overflow-hidden border-2 border-gold shadow-sm">
                            <svg className="w-8 h-8 text-navy" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M12 14l9-5-9-5-9 5 9 5z"/><path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"/><path strokeLinecap="round" strokeLinejoin="round" d="M12 14v7"/></svg>
                        </div>
                        <div>
                            <h1 className="font-amiri font-bold text-lg md:text-xl text-gold">ุงูุฎูุงุตุฉ ูู ุงูุจุญุซ ุงูุนููู</h1>
                            <h2 className="text-xs opacity-80">ุงููุญุงุถุฑุฉ ุงูุซุงูุซุฉ</h2>
                        </div>
                    </div>
                    <div className="text-left bg-white/10 px-3 py-1 rounded-lg border border-white/20">
                        <p className="text-[10px] md:text-xs font-bold text-gray-300">ุฅุดุฑุงู ุงูุฃุณุชุงุฐ ุงูุฏูุชูุฑ</p>
                        <p className="font-amiri font-bold text-sm md:text-lg text-white">ุจุงุณู ุงููุฑุงูู</p>
                    </div>
                </div>
            </header>
        );

        // --- View 1: Welcome ---
        const WelcomeScreen = ({ setStudentName, setSection, setStartTime, setView }) => {
            const [name, setName] = useState('');
            const [sec, setSec] = useState('');
            const [err, setErr] = useState('');

            const handleStart = () => {
                if (name.trim().split(/\s+/).length < 4) {
                    setErr('ุนุฐุฑุงูุ ูุฌุจ ุฅุฏุฎุงู ุงูุงุณู ุงูุฑุจุงุนู ูุงููุงู (4 ููุงุทุน ุนูู ุงูุฃูู).'); return;
                }
                if (!sec.trim()) {
                    setErr('ุงูุฑุฌุงุก ุฅุฏุฎุงู ุฑูู ุงูุดุนุจุฉ.'); return;
                }
                setStudentName(name.trim());
                setSection(sec.trim());
                setStartTime(new Date());
                setView('topics');
            };

            return (
                <div className="flex items-center justify-center min-h-[90vh] fade-in relative px-4">
                    <div className="absolute top-10 w-40 h-40 bg-gold rounded-full opacity-20 blur-3xl"></div>
                    <div className="absolute bottom-10 left-10 w-60 h-60 bg-navy rounded-full opacity-10 blur-3xl"></div>
                    
                    <div className="glass-panel p-8 md:p-12 rounded-[2rem] shadow-glow-navy max-w-lg w-full text-center relative z-10">
                        <div className="mx-auto w-20 h-20 bg-navy text-gold flex items-center justify-center rounded-2xl mb-6 shadow-glow transform rotate-3">
                            <svg className="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                        </div>
                        
                        <h1 className="text-3xl md:text-4xl font-amiri font-bold text-navy mb-2">ุงูุฎูุงุตุฉ ูู ุงูุจุญุซ ุงูุนููู</h1>
                        <h2 className="text-xl text-gold mb-6 font-tajawal font-bold bg-navy/5 inline-block px-4 py-1 rounded-full">ุงููุญุงุถุฑุฉ ุงูุซุงูุซุฉ</h2>
                        
                        {err && <div className="bg-red-100 text-red-700 p-3 rounded-xl mb-6 text-sm font-bold border-r-4 border-red-500 animate-pulse">{err}</div>}
                        
                        <div className="space-y-5 text-right">
                            <div>
                                <label className="block text-navy font-bold mb-2 text-sm">ุงูุงุณู ุงูุฑุจุงุนู</label>
                                <input type="text" value={name} onChange={e=>setName(e.target.value)} placeholder="ุฃุฏุฎู ุงุณูู ุงูุฑุจุงุนู ููุง..." className="w-full px-5 py-4 rounded-xl border-2 border-gray-200 focus:border-gold focus:ring-4 focus:ring-gold/20 outline-none transition bg-white/80 font-bold" />
                            </div>
                            <div>
                                <label className="block text-navy font-bold mb-2 text-sm">ุฑูู ุงูุดุนุจุฉ</label>
                                <input type="text" value={sec} onChange={e=>setSec(e.target.value)} placeholder="ุฃุฏุฎู ุฑูู ุงูุดุนุจุฉ..." className="w-full px-5 py-4 rounded-xl border-2 border-gray-200 focus:border-gold focus:ring-4 focus:ring-gold/20 outline-none transition bg-white/80 font-bold" />
                            </div>
                            <button onClick={handleStart} className="w-full bg-navy text-cream font-bold text-lg py-4 rounded-xl hover:bg-gold hover:text-navy transition-all duration-300 shadow-xl mt-4 transform hover:-translate-y-1">ุจุฏุก ุงูุฑุญูุฉ ุงูุชุนููููุฉ ๐</button>
                        </div>
                    </div>
                </div>
            );
        };

        // --- View 2: Topics Flow (Mastery Learning) ---
        const TopicsFlow = ({ setView }) => {
            const [currentIndex, setCurrentIndex] = useState(0);
            const [isPassed, setIsPassed] = useState(false);
            
            // Interaction State based on qType
            const [dropdownAnswers, setDropdownAnswers] = useState({});
            
            // Matching State
            const [selectedLeft, setSelectedLeft] = useState(null);
            const [matchedPairs, setMatchedPairs] = useState([]); // Array of {left, right}
            const [shuffledRights, setShuffledRights] = useState([]);

            const topic = courseData[currentIndex];

            // Reset state on topic change
            useEffect(() => {
                setIsPassed(false);
                setDropdownAnswers({});
                setSelectedLeft(null);
                setMatchedPairs([]);
                
                if (topic.qType === 'matching') {
                    // Shuffle right options
                    const rights = [...topic.questions].map(q => q.right).sort(() => Math.random() - 0.5);
                    setShuffledRights(rights);
                }
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, [currentIndex]);

            // Validation Effect
            useEffect(() => {
                if (topic.qType === 'dropdown') {
                    let correctCount = 0;
                    topic.questions.forEach((q, idx) => {
                        if (dropdownAnswers[idx] === q.correct) correctCount++;
                    });
                    if (correctCount === topic.questions.length && topic.questions.length > 0) {
                        setIsPassed(true);
                    } else { setIsPassed(false); }
                } 
                else if (topic.qType === 'matching') {
                    // Check if all pairs are correctly matched
                    if (matchedPairs.length === topic.questions.length) {
                        let allCorrect = true;
                        matchedPairs.forEach(pair => {
                            const originalQ = topic.questions.find(q => q.left === pair.left);
                            if (originalQ.right !== pair.right) allCorrect = false;
                        });
                        setIsPassed(allCorrect);
                        // If fully matched but wrong, reset to let them try again
                        if (!allCorrect) {
                            setTimeout(() => { alert('ููุงู ุฅุฌุงุจุงุช ุฎุงุทุฆุฉ ูู ุงูุชูุตููุ ุญุงูู ูุฑุฉ ุฃุฎุฑู!'); setMatchedPairs([]); }, 1000);
                        }
                    } else {
                        setIsPassed(false);
                    }
                }
            }, [dropdownAnswers, matchedPairs, topic]);

            const handleDropdownChange = (qIdx, value) => {
                setDropdownAnswers(prev => ({ ...prev, [qIdx]: value }));
            };

            const handleMatchClick = (side, item) => {
                if (side === 'left') {
                    if (!matchedPairs.find(p => p.left === item)) setSelectedLeft(item);
                } else if (side === 'right' && selectedLeft) {
                    if (!matchedPairs.find(p => p.right === item)) {
                        setMatchedPairs(prev => [...prev, { left: selectedLeft, right: item }]);
                        setSelectedLeft(null);
                    }
                }
            };

            const handleNext = () => {
                if (currentIndex < courseData.length - 1) {
                    setCurrentIndex(prev => prev + 1);
                } else {
                    setView('review'); // Go to Smart Review before Final
                }
            };

            // Render Questions based on Type
            const renderQuestions = () => {
                if (topic.qType === 'dropdown') {
                    return (
                        <div className="space-y-6">
                            {topic.questions.map((q, idx) => {
                                const parts = q.text.split('{{blank}}');
                                const isCorrect = dropdownAnswers[idx] === q.correct;
                                const isAnswered = !!dropdownAnswers[idx];
                                
                                return (
                                    <div key={idx} className={`p-5 rounded-2xl border-2 transition-all ${isCorrect ? 'border-green-400 bg-green-50' : (isAnswered ? 'border-red-400 bg-red-50' : 'border-gray-200 bg-white')}`}>
                                        <p className="font-bold text-navy leading-loose text-lg flex flex-wrap items-center gap-2">
                                            <span className="bg-navy text-white w-6 h-6 flex items-center justify-center rounded-full text-sm">{idx+1}</span>
                                            {parts[0]}
                                            <select 
                                                value={dropdownAnswers[idx] || ""} 
                                                onChange={(e) => handleDropdownChange(idx, e.target.value)}
                                                className={`mx-2 p-2 rounded-lg border font-bold outline-none cursor-pointer ${isCorrect ? 'bg-green-100 border-green-500 text-green-800' : 'bg-gray-100 border-gray-300'}`}
                                            >
                                                <option value="" disabled>ุงุฎุชุฑ ุงูุฅุฌุงุจุฉ...</option>
                                                {/* Shuffle options for display */}
                                                {[...q.options].sort().map((opt, oIdx) => (
                                                    <option key={oIdx} value={opt}>{opt}</option>
                                                ))}
                                            </select>
                                            {parts[1]}
                                        </p>
                                        {isAnswered && !isCorrect && <p className="text-red-600 text-sm mt-2 font-bold animate-pulse">ุงูุฅุฌุงุจุฉ ุบูุฑ ุตุญูุญุฉุ ุญุงูู ูุฌุฏุฏุงู.</p>}
                                    </div>
                                );
                            })}
                        </div>
                    );
                } 
                else if (topic.qType === 'matching') {
                    return (
                        <div>
                            <p className="text-center mb-6 font-bold text-navy">ุงุถุบุท ุนูู ุงูุนูุตุฑ ูู ุงููุงุฆูุฉ ุงูููููุ ุซู ุงุถุบุท ุนูู ูุง ููุงุณุจู ูู ุงููุงุฆูุฉ ุงููุณุฑู ููุชูุตูู.</p>
                            <div className="flex flex-col md:flex-row gap-8">
                                {/* Left Column (Questions) */}
                                <div className="flex-1 space-y-3">
                                    <h4 className="font-bold text-center text-gold mb-4">ุงููุงุฆูุฉ (ุฃ)</h4>
                                    {topic.questions.map((q, idx) => {
                                        const isMatched = matchedPairs.find(p => p.left === q.left);
                                        const isSelected = selectedLeft === q.left;
                                        return (
                                            <button 
                                                key={idx} 
                                                onClick={() => handleMatchClick('left', q.left)}
                                                disabled={!!isMatched}
                                                className={`w-full text-right p-4 rounded-xl border-2 font-bold transition-all shadow-sm
                                                    ${isMatched ? 'bg-green-100 border-green-500 text-green-800 opacity-60' : 
                                                    isSelected ? 'bg-gold border-navy text-navy scale-105 shadow-md' : 
                                                    'bg-white border-gray-200 hover:border-gold'}`}
                                            >
                                                {q.left}
                                                {isMatched && <span className="float-left">โ</span>}
                                            </button>
                                        );
                                    })}
                                </div>
                                
                                {/* Right Column (Answers) */}
                                <div className="flex-1 space-y-3">
                                    <h4 className="font-bold text-center text-navy mb-4">ุงููุงุฆูุฉ (ุจ)</h4>
                                    {shuffledRights.map((ans, idx) => {
                                        const isMatched = matchedPairs.find(p => p.right === ans);
                                        return (
                                            <button 
                                                key={idx} 
                                                onClick={() => handleMatchClick('right', ans)}
                                                disabled={!!isMatched || !selectedLeft}
                                                className={`w-full text-right p-4 rounded-xl border-2 font-bold transition-all shadow-sm
                                                    ${isMatched ? 'bg-green-100 border-green-500 text-green-800 opacity-60' : 
                                                    !selectedLeft ? 'bg-gray-50 border-gray-200 cursor-not-allowed opacity-50' :
                                                    'bg-white border-navy hover:bg-navy hover:text-white cursor-pointer'}`}
                                            >
                                                {ans}
                                                {isMatched && <span className="float-left">โ</span>}
                                            </button>
                                        );
                                    })}
                                </div>
                            </div>
                            <div className="mt-6 text-center">
                                <button onClick={() => {setMatchedPairs([]); setSelectedLeft(null);}} className="text-sm text-red-500 underline font-bold hover:text-red-700">ุฅุนุงุฏุฉ ุงูุชูุตูู ูู ุฌุฏูุฏ ๐</button>
                            </div>
                        </div>
                    );
                }
            };

            return (
                <div className="fade-in max-w-5xl mx-auto pb-20">
                    {/* Progress Indicator */}
                    <div className="flex items-center justify-between mb-8 bg-white p-4 rounded-2xl shadow-sm border border-gray-100">
                        <div className="font-bold text-navy flex items-center gap-2">
                            <span className="bg-gold text-navy w-8 h-8 rounded-full flex items-center justify-center text-sm">{currentIndex + 1}</span>
                            ุงููุญุฏุฉ ุงูุฏุฑุงุณูุฉ
                        </div>
                        <div className="flex gap-2">
                            {courseData.map((_, idx) => (
                                <div key={idx} className={`h-2 w-6 md:w-10 rounded-full transition-all duration-500 ${idx <= currentIndex ? 'bg-gold' : 'bg-gray-200'}`}></div>
                            ))}
                        </div>
                    </div>

                    {/* Content Component */}
                    <div className={`${topic.color} p-6 md:p-10 rounded-[2rem] shadow-lg border border-white/50 mb-10 relative overflow-hidden`}>
                        <div className="absolute top-0 right-0 w-32 h-32 bg-white/20 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"></div>
                        <h2 className="text-3xl md:text-4xl font-amiri font-bold text-navy mb-8 flex items-center gap-3">
                            <span className="text-4xl drop-shadow-md">{topic.icon}</span>
                            {topic.title}
                        </h2>
                        {topic.content}
                    </div>

                    {/* Mindmap Section */}
                    <div className="mb-12 rounded-[2rem] overflow-hidden shadow-2xl">
                        {topic.mindmap}
                    </div>

                    {/* Assessment Section */}
                    <div className="bg-white p-6 md:p-10 rounded-[2rem] shadow-glass border border-gray-100">
                        <h3 className="text-2xl font-amiri font-bold text-navy mb-2 flex items-center gap-2"><svg className="w-6 h-6 text-gold" fill="currentColor" viewBox="0 0 20 20"><path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clipRule="evenodd"></path></svg>ุงูุชูููู ุงูุชููููู (ุฃุณุฆูุฉ ุชูุงุนููุฉ)</h3>
                        <p className="text-gray-500 mb-8 text-sm font-bold">ุฃุฌุจ ุจุดูู ุตุญูุญ ูุชูุนูู ุฃููููุฉ ุงูุงูุชูุงู ูููุญุฏุฉ ุงูุชุงููุฉ.</p>
                        
                        {renderQuestions()}

                        {/* Next Action */}
                        <div className="mt-10 text-center border-t-2 border-gray-100 pt-8">
                            {isPassed ? (
                                <div className="fade-in">
                                    <p className="text-green-600 font-bold mb-4 text-lg">ุฃุญุณูุช! ุฅุฌุงุจุงุชู ุตุญูุญุฉุ ููููู ุงูุขู ุงูุงูุชูุงู.</p>
                                    <button onClick={handleNext} className="bg-gradient-to-l from-navy to-blue-900 text-cream px-10 py-4 rounded-xl font-bold text-xl hover:shadow-glow-navy transition-all transform hover:scale-105 pulse-btn">
                                        {currentIndex < courseData.length - 1 ? 'ุงูุงูุชูุงู ุฅูู ุงูููุถูุน ุงูุชุงูู โฌ๏ธ' : 'ุงูุงูุชูุงู ููุณู ุงููุฑุงุฌุนุฉ ๐ง'}
                                    </button>
                                </div>
                            ) : (
                                <button disabled className="bg-gray-200 text-gray-400 px-10 py-4 rounded-xl font-bold text-lg cursor-not-allowed">
                                    ุฃููู ุงูุฅุฌุงุจุฉ ุจุดูู ุตุญูุญ ูุชุชููู ูู ุงููุชุงุจุนุฉ ๐
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // --- View 3: Smart Review (Flashcards & Accordions) ---
        const SmartReviewScreen = ({ setView }) => {
            const [openAcc, setOpenAcc] = useState(null);
            const toggleAcc = (i) => { setOpenAcc(openAcc === i ? null : i); };

            return (
                <div className="fade-in max-w-6xl mx-auto pb-20">
                    <div className="text-center mb-12">
                        <h2 className="text-4xl font-amiri font-bold text-navy mb-4">ุงููุฑุงุฌุนุฉ ุงูุฐููุฉ ุงููุฒุฏูุฌุฉ ๐ง</h2>
                        <p className="text-lg text-gray-600">ุงููุจ ุงูุจุทุงูุงุช ูุชุตูุญ ุงูุฃุณุฆูุฉ ุงูููุงููุฉ ูุชุซุจูุช ุงููุนูููุงุช ูุจู ุงูุงุฎุชุจุงุฑ ุงูููุงุฆู.</p>
                    </div>

                    {/* Section 1: Flashcards */}
                    <div className="bg-trait1 p-8 rounded-[2rem] shadow-sm mb-12">
                        <h3 className="text-2xl font-bold text-navy mb-8 border-r-4 border-gold pr-3">ุฃููุงู: ุจุทุงูุงุช ุงูููุงููู (Flashcards)</h3>
                        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                            {flashcards.map((card, idx) => (
                                <div key={idx} className="flip-card">
                                    <div className="flip-card-inner">
                                        <div className="flip-card-front text-xl font-amiri font-bold text-center">
                                            {card.front}
                                        </div>
                                        <div className="flip-card-back text-sm leading-relaxed overflow-y-auto font-tajawal p-4 font-bold text-center">
                                            {card.back}
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Section 2: Accordions */}
                    <div className="bg-trait8 p-8 rounded-[2rem] shadow-sm mb-12">
                        <h3 className="text-2xl font-bold text-navy mb-8 border-r-4 border-red-500 pr-3">ุซุงููุงู: ุงูุฃุณุฆูุฉ ุงูููุงููุฉ ูุงูุชุญููููุฉ</h3>
                        <div className="space-y-4 max-w-4xl mx-auto">
                            {accordions.map((acc, idx) => {
                                const isOpen = openAcc === idx;
                                return (
                                    <div key={idx} className={`bg-white rounded-2xl overflow-hidden shadow-sm transition-all duration-300 border ${isOpen ? 'border-navy' : 'border-gray-200'}`}>
                                        <button onClick={() => toggleAcc(idx)} className={`w-full text-right px-6 py-5 font-bold flex justify-between items-center focus:outline-none transition-colors ${isOpen ? 'bg-navy text-gold' : 'text-navy hover:bg-gray-50'}`}>
                                            <span className="text-lg">{idx + 1}. {acc.q}</span>
                                            <svg className={`w-6 h-6 transition-transform transform ${isOpen ? 'rotate-180 text-gold' : 'text-gray-400'}`} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 9l-7 7-7-7"></path></svg>
                                        </button>
                                        <div className={`px-6 overflow-hidden transition-all duration-500 ease-in-out bg-gray-50 ${isOpen ? 'max-h-96 py-5 border-t border-gray-200 opacity-100' : 'max-h-0 py-0 opacity-0'}`}>
                                            <p className="text-gray-800 leading-relaxed font-bold text-lg border-r-4 border-gold pr-4">{acc.a}</p>
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    </div>

                    <div className="text-center">
                        <button onClick={() => setView('final')} className="bg-gold text-navy px-12 py-5 rounded-2xl font-bold text-2xl hover:bg-navy hover:text-gold transition-all shadow-glow pulse-btn">
                            ุงูุฏุฎูู ููุงุฎุชุจุงุฑ ุงูุชููููู ุงูููุงุฆู ๐
                        </button>
                    </div>
                </div>
            );
        };

        // --- View 4: Final Assessment & Submission (20 MCQs) ---
        const FinalQuizScreen = ({ studentName, section, startTime }) => {
            const [answers, setAnswers] = useState({});
            const [submitted, setSubmitted] = useState(false);
            const [score, setScore] = useState(0);
            const [submitStatus, setSubmitStatus] = useState('');

            const handleSelect = (qIdx, oIdx) => {
                if(!submitted) setAnswers({...answers, [qIdx]: oIdx});
            };

            const calculateAndSubmit = async () => {
                if (Object.keys(answers).length < finalQuizData.length) {
                    alert('ุงูุฑุฌุงุก ุงูุฅุฌุงุจุฉ ุนูู ุฌููุน ุงูุฃุณุฆูุฉ (20 ุณุคุงู) ูุจู ุงูุชุณููู.'); return;
                }
                
                let s = 0;
                finalQuizData.forEach((q, i) => { if(answers[i] === q.ans) s++; });
                setScore(s);
                setSubmitted(true);
                setSubmitStatus('sending');
                
                const minutes = Math.floor(Math.abs(new Date() - startTime) / 60000);

                // Silent form submission (No-CORS)
                const formURL = 'https://docs.google.com/forms/d/e/1FAIpQLSfvsMrAKL-c6fdoEvUyz83Mi0Ns4IuNp7VBL1tOrxY14P1-9Q/formResponse';
                const formData = new FormData();
                formData.append('entry.1617589291', 'ุงูุซุงูุซุฉ'); 
                formData.append('entry.987608423', studentName); 
                formData.append('entry.992898656', section); 
                formData.append('entry.1901145640', s.toString()); 
                formData.append('entry.1217028614', minutes.toString()); 

                try {
                    await fetch(formURL, { method: 'POST', mode: 'no-cors', body: formData });
                    setSubmitStatus('success');
                } catch (e) {
                    setSubmitStatus('error');
                }
            };

            return (
                <div className="max-w-4xl mx-auto fade-in pb-20">
                    <h2 className="text-4xl font-amiri font-bold text-center text-navy mb-8">ุงูุชูููู ุงูุดุงูู (20 ุณุคุงู) ๐</h2>
                    
                    {!submitted ? (
                        <div className="space-y-6">
                            {finalQuizData.map((q, qIdx) => (
                                <div key={qIdx} className="bg-white p-6 rounded-[1.5rem] shadow-sm border-2 border-gray-100 hover:border-gold transition-colors">
                                    <h3 className="font-bold text-navy text-lg mb-4 flex gap-2">
                                        <span className="bg-navy text-cream w-8 h-8 flex-shrink-0 flex items-center justify-center rounded-full">{qIdx+1}</span>
                                        {q.q}
                                    </h3>
                                    <div className="space-y-3 pr-10">
                                        {q.options.map((opt, oIdx) => (
                                            <button key={oIdx} onClick={() => handleSelect(qIdx, oIdx)} className={`w-full text-right p-3 rounded-xl border-2 transition-all font-bold ${answers[qIdx] === oIdx ? 'bg-trait2 border-blue-500 text-blue-900 shadow-md' : 'bg-gray-50 border-gray-200 hover:bg-gray-100 hover:border-gray-300'}`}>
                                                {opt}
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            ))}
                            
                            <div className="sticky bottom-4 z-40 bg-white/90 backdrop-blur p-4 rounded-2xl shadow-glow-navy border border-gray-200 mt-10">
                                <div className="flex justify-between items-center">
                                    <div className="text-navy font-bold">ุชูุช ุงูุฅุฌุงุจุฉ ุนูู: {Object.keys(answers).length} / 20</div>
                                    <button onClick={calculateAndSubmit} className="bg-navy text-gold px-10 py-3 rounded-xl font-bold text-xl hover:bg-gold hover:text-navy transition shadow-lg">ุฅููุงุก ูุฅุฑุณุงู ุงููุชูุฌุฉ ููุฃุณุชุงุฐ ๐ค</button>
                                </div>
                            </div>
                        </div>
                    ) : (
                        <div className="bg-white p-12 rounded-[3rem] shadow-glow-navy text-center fade-in border-4 border-gold">
                            <h3 className="text-5xl font-amiri font-bold text-navy mb-6">ุงููุชูุฌุฉ ุงูููุงุฆูุฉ</h3>
                            <div className="text-8xl font-bold text-gold mb-8 drop-shadow-md">{score} / 20</div>
                            <p className="text-2xl mb-4 text-gray-700">ุจุงุฑู ุงููู ููู ูุง <span className="font-bold text-navy border-b-2 border-gold">{studentName}</span>!</p>
                            <p className="text-gray-500 mb-8 font-bold">ููุฏ ุฃุชููุช ุฏุฑุงุณุฉ ุงููุญุงุถุฑุฉ ุงูุซุงูุซุฉ ูุงุฌุชุฒุช ุงูุชูููู ุจูุฌุงุญ.</p>
                            
                            {submitStatus === 'sending' && (
                                <div className="text-blue-600 font-bold flex justify-center items-center gap-3 bg-blue-50 p-4 rounded-xl inline-flex">
                                    <svg className="animate-spin h-6 w-6" viewBox="0 0 24 24"><circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4" fill="none"></circle><path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                                    ุฌุงุฑู ุญูุธ ุชูุฏูู ูุฅุฑุณุงู ุงูุจูุงูุงุช ุจุตูุช ุฅูู ุงูุฃุณุชุงุฐ...
                                </div>
                            )}
                            {submitStatus === 'success' && (
                                <div className="text-emerald-700 font-bold text-xl p-6 bg-emerald-50 rounded-2xl border-2 border-emerald-300 fade-in inline-block shadow-sm">
                                    โ ุชู ุญูุธ ูุชูุฌุชู ({score} ุฏุฑุฌุฉ) ูุฅุฑุณุงููุง ููุฃุณุชุงุฐ ุฏ. ุจุงุณู ุงููุฑุงูู ุจูุฌุงุญ! ููููู ุฅุบูุงู ูุฐู ุงูุตูุญุฉ ุงูุขู.
                                </div>
                            )}
                            {submitStatus === 'error' && (
                                <div className="text-red-600 font-bold text-lg p-4 bg-red-50 rounded-xl">
                                    ุญุฏุซ ุฎุทุฃ ูู ุงูุงุชุตุงูุ ููููู ุฃุชููุช ุงููุญุงุถุฑุฉ.
                                </div>
                            )}
                        </div>
                    )}
                </div>
            );
        };

        // --- Main App Flow ---
        const App = () => {
            const [view, setView] = useState('welcome'); // welcome, topics, review, final
            const [studentName, setStudentName] = useState('');
            const [section, setSection] = useState('');
            const [startTime, setStartTime] = useState(null);

            return (
                <div className="min-h-screen flex flex-col font-tajawal text-navy">
                    {view !== 'welcome' && <Header />}
                    <main className="flex-grow container mx-auto px-4 py-8">
                        {view === 'welcome' && <WelcomeScreen setStudentName={setStudentName} setSection={setSection} setStartTime={setStartTime} setView={setView} />}
                        {view === 'topics' && <TopicsFlow setView={setView} />}
                        {view === 'review' && <SmartReviewScreen setView={setView} />}
                        {view === 'final' && <FinalQuizScreen studentName={studentName} section={section} startTime={startTime} />}
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
